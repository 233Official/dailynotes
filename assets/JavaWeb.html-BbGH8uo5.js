import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as n,d as p,e,r as k,o as c,f as s,b as i}from"./app-DX9gUdjC.js";const d={};function m(g,a){const h=k("Tabs");return c(),o("div",null,[a[4]||(a[4]=n('<h1 id="java-web" tabindex="-1"><a class="header-anchor" href="#java-web"><span>Java Web</span></a></h1><ul><li><a href="#java-web">Java Web</a><ul><li><a href="#servlet%E5%AE%B9%E5%99%A8">Servlet容器</a><ul><li><a href="#tomcat">Tomcat</a><ul><li><a href="#tomcat%E5%AE%89%E8%A3%85">Tomcat安装</a></li><li><a href="#tomcat%E9%85%8D%E7%BD%AE">Tomcat配置</a></li><li><a href="#%E9%80%9A%E8%BF%87docker%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8tomcat%E7%8E%AF%E5%A2%83">通过Docker快速搭建与使用Tomcat环境</a></li><li><a href="#%E6%97%A5%E5%BF%97">日志</a></li></ul></li><li><a href="#jetty">Jetty</a></li></ul></li><li><a href="#springmvc">SpringMVC</a></li></ul></li></ul><hr><h2 id="servlet容器" tabindex="-1"><a class="header-anchor" href="#servlet容器"><span>Servlet容器</span></a></h2><hr><h3 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat"><span>Tomcat</span></a></h3><blockquote><p><a href="https://tomcat.apache.org/" target="_blank" rel="noopener noreferrer">Apache Tomcat® - 欢迎！ --- Apache Tomcat® - Welcome!</a></p></blockquote><p>Apache Tomcat® 是 <a href="https://projects.eclipse.org/projects/ee4j.servlet" target="_blank" rel="noopener noreferrer">Jakarta Servlet</a>、<a href="https://projects.eclipse.org/projects/ee4j.jsp" target="_blank" rel="noopener noreferrer">Jakarta Pages</a>、<a href="https://projects.eclipse.org/projects/ee4j.el" target="_blank" rel="noopener noreferrer">Jakarta Expression Language</a>、<a href="https://projects.eclipse.org/projects/ee4j.websocket" target="_blank" rel="noopener noreferrer">Jakarta WebSocket</a>、<a href="https://projects.eclipse.org/projects/ee4j.ca" target="_blank" rel="noopener noreferrer">Jakarta Annotations</a> 和 <a href="https://projects.eclipse.org/projects/ee4j.authentication" target="_blank" rel="noopener noreferrer">Jakarta Authentication</a> 规范的开源实现。这些规范是 <a href="https://projects.eclipse.org/projects/ee4j.jakartaee-platform" target="_blank" rel="noopener noreferrer">Jakarta EE 平台</a>的一部分。</p><blockquote><p>Jakarta EE 平台是 Java EE 平台的演变。Tomcat 10 及更高版本实现了作为 Jakarta EE 的一部分开发的规范。Tomcat 9 及更早版本实现了作为 Java EE 的一部分开发的规范。</p></blockquote><p><strong>特点</strong>：</p><ul><li>是一个较为成熟且广泛使用的 Java Servlet 容器。</li><li>提供对 Java EE 规范中 Servlets 和 JSP 的完整支持。</li><li>支持大多数 Java Web 应用程序的运行，适合中小型应用。</li><li>配置相对灵活，功能丰富，包括集成了 JNDI、WebSocket、JSP 编译等功能。</li><li>适合需要一个稳定且功能强大的 Java Web 服务器的应用场景。</li></ul><p><strong>使用场景</strong>：大多数企业级 Web 应用的开发和部署，特别是中小型项目。</p><hr><h4 id="tomcat安装" tabindex="-1"><a class="header-anchor" href="#tomcat安装"><span>Tomcat安装</span></a></h4><blockquote><p><a href="https://tomcat.apache.org/download-80.cgi" target="_blank" rel="noopener noreferrer">Apache Tomcat® - Apache Tomcat 8 Software Downloads --- Apache Tomcat® - Apache Tomcat 8 软件下载</a></p></blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202306131112390.png" alt="image-20230613111231319"></p><hr>',17)),p(h,{id:"123",data:[{id:"Windows"},{id:"Linux(Debian)(未成功,归档)"}],active:0},{title0:e(({value:t,isActive:l})=>a[0]||(a[0]=[s("Windows")])),title1:e(({value:t,isActive:l})=>a[1]||(a[1]=[s("Linux(Debian)(未成功,归档)")])),tab0:e(({value:t,isActive:l})=>a[2]||(a[2]=[i("p",null,"Windows 下直接下 Installer 版本即可",-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202306131113262.png",alt:"image-20230613111315190"})],-1),i("p",null,[s("安装时会默认 "),i("code",null,"Server Shutdown Port "),s(" 为 "),i("code",null,"-1"),s(", 意味着关闭了监听 shutdown 命令的端口, 后续启停可以在 Windows 服务("),i("code",null,"services.msc"),s(")中进行操作")],-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111130092.png",alt:"image-20240911113034865"})],-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111136271.png",alt:"image-20240911113602199"})],-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111136185.png",alt:"image-20240911113638114"})],-1),i("p",null,"安装完成会自动启动:",-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111412187.png",alt:"image-20240911141212043"})],-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111412947.png",alt:"image-20240911141233887"})],-1),i("p",null,[s("也可以使用 Tomcat 安装目录中的 "),i("code",null,"bin/startup.bat"),s(" 启动 Tomcat")],-1),i("p",null,[s("可以访问 "),i("code",null,"http://localhost:8080/"),s(" 如果显示如下页面则表明 Tomcat 安装成功")],-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111427788.png",alt:"image-20240911142749708"})],-1),i("hr",null,null,-1)])),tab1:e(({value:t,isActive:l})=>a[3]||(a[3]=[i("blockquote",null,[i("p",null,[i("a",{href:"https://segmentfault.com/a/1190000043079401#item-2",target:"_blank",rel:"noopener noreferrer"},"如何在 Debian 11 上安装 Apache Tomcat ? - 个人文章 - SegmentFault 思否")]),i("p",null,[i("a",{href:"https://tomcat.apache.org/download-90.cgi",target:"_blank",rel:"noopener noreferrer"},"Apache Tomcat® - Apache Tomcat 9 Software Downloads")])],-1),i("p",null,"下载如下压缩包:",-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111539652.png",alt:"image-20240911153916523"})],-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"wget"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.94/bin/apache-tomcat-9.0.94.tar.gz")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 在 /opt 目录中新建一个目录(/opt 目录通常用于存放“可选”或第三方的软件包)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"mkdir"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /opt/tomcat")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 在 /opt/tomcat 路径中使用 tar 命令提取二进制文件")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tar"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -xvf"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," apache-tomcat-9.0.94.tar.gz"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -C"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /opt/tomcat"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --strip-components=1")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("ul",null,[i("li",null,[i("p",null,[i("code",null,"--strip-components=1"),s("：")]),i("ul",null,[i("li",null,[i("p",null,[s("这个选项用于删除归档文件路径中的前 N 层目录。"),i("code",null,"1"),s(" 表示删除路径中的第一层目录。")])]),i("li",null,[i("p",null,[s("压缩包中的文件路径为 "),i("code",null,"apache-tomcat-9.0.94/bin/"),s(", "),i("code",null,"apache-tomcat-9.0.94/conf/"),s(" 等")]),i("p",null,[s("使用 "),i("code",null,"--strip-components=1"),s(" 之后解压到 "),i("code",null,"/opt/tomcat"),s(" 时，这些文件会直接解压到 "),i("code",null,"/opt/tomcat/bin/"),s("，"),i("code",null,"/opt/tomcat/conf/"),s("，去掉了最外层的 "),i("code",null,"apache-tomcat-9.0.94"),s(" 目录")])])])])],-1),i("hr",null,null,-1),i("p",null,"为 Tomcat 创建一个新的用户组",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 创建一个名为 tomcat 的组")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," groupadd"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tomcat")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 创建 tomcat 用户，并将用户添加到 tomcat 组中，以 /opt /tomcat 作为主目录")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," useradd"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /bin/"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"false"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -g"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tomcat"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -d"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /opt/tomcat"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tomcat")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("ul",null,[i("li",null,[i("code",null,"-s /bin/false"),s(": 设置用户的登录 shell 为 "),i("code",null,"/bin/false"),s("，这意味着该用户无法登录到系统")]),i("li",null,[i("code",null,"-g tomcat"),s(": 将该用户加入到已有的 "),i("code",null,"tomcat"),s(" 组中")]),i("li",null,[i("code",null,"-d /opt/tomcat"),s(": 设置用户的主目录为 "),i("code",null,"/opt/tomcat")]),i("li",null,[i("code",null,"tomcat"),s(": 要创建的新用户的用户名")])],-1),i("hr",null,null,-1),i("p",null,"配置用户权限:",-1),i("p",null,"使用 Chown 和 Chomd 命令给 /opt /tomcat 目录设置用户和权限",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," chown"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -R"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tomcat:"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /opt/tomcat")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sh"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -c"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," 'chmod +x /opt/tomcat/bin/*.sh'")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("ul",null,[i("li",null,[i("code",null,"chown"),s(": 用于更改文件或目录的所有者 "),i("ul",null,[i("li",null,[i("code",null,"-R"),s(": 表示递归操作，将更改应用于目录下的所有子目录和文件。")]),i("li",null,[i("code",null,"tomcat:"),s(": 指定新的文件或目录的拥有者为 "),i("code",null,"tomcat"),s(" 用户。后面的冒号表示没有指定组名，默认使用 "),i("code",null,"tomcat"),s(" 用户的主组。")]),i("li",null,[i("code",null,"/opt/tomcat"),s(" 目标目录，即要更改拥有者的目录。")])])]),i("li",null,[i("code",null,"sh -c"),s(": 使用 "),i("code",null,"sh"),s(" shell 执行后面引号中的命令。"),i("code",null,"-c"),s(" 表示执行字符串中的命令 "),i("ul",null,[i("li",null,[i("code",null,"chmod +x"),s(": 改变文件模式命令，使文件具有可执行权限 ("),i("code",null,"+x"),s(")")]),i("li",null,[i("code",null,"/opt/tomcat/bin/*.sh"),s(": 目标是 "),i("code",null,"/opt/tomcat/bin/"),s(" 目录中的所有 "),i("code",null,".sh"),s(" 脚本文件（"),i("code",null,"*.sh"),s(" 是匹配所有 "),i("code",null,".sh"),s(" 文件的通配符）")])])])],-1),i("hr",null,null,-1),i("p",null,"我们需要使 Apache Tomcat 作为一个可以启动、停止和启用的系统服务在后台运行",-1),i("p",null,"默认情况下，Tomcat 不附带 systemd 单元文件，因此，我们将手动创建它，如下所示",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," vi"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/systemd/system/tomcat.service")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 有 VSCode 之类的编辑器编辑的话可以直接 touch 空文件")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"touch"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/systemd/system/tomcat.service")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("p",null,"填入如下内容:",-1),i("div",{class:"language-properties line-numbers-mode","data-highlighter":"shiki","data-ext":"properties","data-title":"properties",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"[Unit]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Description"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"Tomcat webs servlet container")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"After"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"network.target")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"[Service]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Type"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"forking")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"User"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"tomcat")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Group"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"tomcat")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"RestartSec"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"10")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Restart"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"always")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Environment"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Environment"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Environment"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"CATALINA_BASE=/opt/tomcat"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Environment"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"CATALINA_HOME=/opt/tomcat"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Environment"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"CATALINA_PID=/opt/tomcat/temp/tomcat.pid"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"Environment"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"ExecStart"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"/opt/tomcat/bin/startup.sh")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"ExecStop"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"/opt/tomcat/bin/shutdown.sh")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"[Install]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#C678DD"}},"WantedBy"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#98C379"}},"multi-user.target")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("blockquote",null,[i("p",null,"上述 Java 路径可以按照需要自行配置, 使用如下命令可以查看当前 Java 路径:"),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"update-java-alternatives"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -l")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 或者:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"update-alternatives"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --config"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," java")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])]),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111610955.png",alt:"image-20240911161009846"})])],-1),i("p",null,"保存更改并退出文件，然后重新运行 systemd 生成器并重新加载所有单元文件。",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," daemon-reload")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1),i("hr",null,null,-1),i("p",null,"启用并启动 Tomcat 守护进程",-1),i("p",null,"准备好 Tomcat 的 systemd 文件后，启动 Apache Tomcat 守护进程，并使其在系统启动时启动",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," daemon-reload")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," start"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tomcat")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# systemctl start tomcat 总是失败的话可以直接运行如下启动脚本启动")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"/opt/tomcat/bin/startup.sh")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," enable"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tomcat")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("hr",null,null,-1),i("p",null,"添加 Tomcat Admin 用户并配置角色",-1),i("p",null,"我们需要配置一个管理用户来访问 Tomcat web 页面上的服务器状态、主机管理器和管理器应用程序部分。否则，我们将在浏览器上遇到错误。",-1),i("p",null,"为此，我们将编辑 Tomcat 用户配置文件",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," vi"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /opt/tomcat/conf/tomcat-users.xml")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1),i("p",null,[s("在 "),i("code",null,"</tomcat-users>"),s(" 标签之前粘贴以下代码行。随意指定自己的用户名和密码值。")],-1),i("div",{class:"language-xml line-numbers-mode","data-highlighter":"shiki","data-ext":"xml","data-title":"xml",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"role"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," rolename"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"admin"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"/>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"role"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," rolename"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"admin-gui"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"/>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"role"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," rolename"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"manager"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"/>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"role"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," rolename"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"manager-gui"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"/>")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"user"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," username"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"linuxtechi"'),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," password"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"<enetr-password-here>"'),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," roles"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"admin,admin-gui,manager,manager-gui"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"/>")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("hr",null,null,-1),i("p",null,"管理 Apache Tomcat 的远程访问",-1),i("p",null,"默认情况下，只能从主机系统访问 Tomcat 的 web 界面。因此，我们需要通过手动编辑 context.xml 配置文件来配置对 Tomcat Manager 的远程访问。",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," vi"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /opt/tomcat/webapps/manager/META-INF/context.xml")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1),i("p",null,"向下滚动并注释这些行",-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111638279.png",alt:"image-20240911163823180"})],-1),i("p",null,"保存文件并退出。接下来，我们需要允许远程访问 Host Manager。因此，编辑主机管理器的 context.xml 文件。",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," vi"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /opt/tomcat/webapps/host-manager/META-INF/context.xml")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1),i("p",null,[i("img",{src:"http://cdn.ayusummer233.top/DailyNotes/202409111639817.png",alt:"image-20240911163925729"})],-1),i("hr",null,null,-1),i("p",null,"保存更改并退出配置文件。要应用所做的所有更改，请重新启动 Tomcat。",-1),i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"$"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tomcat")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 或者使用脚本来停止与启动")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"/opt/tomcat/bin/shutdown.sh")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"/opt/tomcat/bin/startup.sh")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("hr",null,null,-1)])),_:1}),a[5]||(a[5]=n(`<hr><h4 id="tomcat配置" tabindex="-1"><a class="header-anchor" href="#tomcat配置"><span>Tomcat配置</span></a></h4><blockquote><p><a href="https://tomcat.apache.org/tomcat-9.0-doc/introduction.html" target="_blank" rel="noopener noreferrer">Apache Tomcat 9 （9.0.94） - 简介 --- Apache Tomcat 9 (9.0.94) - Introduction</a></p></blockquote><p>安装完 Tomcat 后可以配置下环境变量, 系统变量中添加 <code>CATALINA_HOME</code> 指向 Tomcat 目录</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409111424166.png" alt="image-20240911142434113"></p><hr><h4 id="通过docker快速搭建与使用tomcat环境" tabindex="-1"><a class="header-anchor" href="#通过docker快速搭建与使用tomcat环境"><span>通过Docker快速搭建与使用Tomcat环境</span></a></h4><p>可以直接使用 Tomcat 官方的 Docker 容器快速构建 Tomcat 环境:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 拉取镜像</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tomcat:7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tomcat:8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tomcat:9</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 运行容器 -d(后台运行) --name(给容器命名,后续可以使用此容器名称操作容器而不需要去查询与复制容器ID)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tomcat8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9908:8080</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tomcat:8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251043734.png" alt="image-20240925104307502"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251043034.png" alt="image-20240925104345950"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251043301.png" alt="image-20240925104355226"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251055067.png" alt="image-20240925105516976"></p><p>可以直接使用 VSCode 的 RemoteDevelopment 扩展与容器交互操作容器</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251056853.png" alt="image-20240925105614760"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251057684.png" alt="image-20240925105701601"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251100222.png" alt="image-20240925110011109"></p><p>在 <code>/usr/local/tomcat</code> 目录下有 <code>webapps</code> 和 <code>webapps.dist</code></p><ul><li><code>webapps</code>: Tomcat 默认的 Web 应用程序目录, 实际部署的应用放置于此</li><li><code>webapps.dist</code>: Webapps 的备份/示例文件副本, 包含一些默认的应用程序结构及配置文件</li></ul><p>webapps 目录下有一些子目录:</p><ul><li><p><strong><code>docs</code></strong>：包含 Tomcat 的文档和相关示例，帮助用户理解 Tomcat 的使用和配置方法。通常包括用户手册、API 文档等。</p></li><li><p><strong><code>examples</code></strong>：提供了多种示例 Web 应用，展示了如何使用 Servlet、JSP 和其他 Java EE 技术。</p><p>这些示例应用有助于开发者快速了解如何构建和部署 Java Web 应用。</p></li><li><p><strong><code>host-manager</code></strong>：Tomcat 的虚拟主机管理应用，允许用户通过 Web 界面管理和配置虚拟主机</p><p>通过该界面，可以添加、删除和配置虚拟主机的相关设置。</p><p>Tomcat 的虚拟主机管理应用是一个用于管理多个虚拟主机的工具，允许在同一 Tomcat 实例上托管多个网站或 Web 应用, 用户可以在同一服务器上托管多个不同的域名（例如 <code>example1.com</code> 和 <code>example2.com</code>），每个域名可以指向不同的 Web 应用。</p></li><li><p><strong><code>manager</code></strong>：Tomcat 的管理应用，用于管理部署的 Web 应用，包括启动、停止、重新加载和查看应用的状态</p><p>它提供了一个 Web 界面，方便用户管理 Tomcat 实例中的所有应用。</p></li><li><p><strong><code>ROOT</code></strong>：Tomcat 的根应用目录，通常用于部署默认的 Web 应用。</p><p>如果将一个应用放在 <code>ROOT</code> 目录下，它将会在根 URL（例如 <code>http://localhost:8080/</code>）下访问。</p></li></ul><hr><p>这里要快速部署一个示例 Web 应用的话可以直接把 ROOT 目录整个拷贝到 webapps 里来:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251122135.png" alt="image-20240925112247021"></p><hr><h4 id="日志" tabindex="-1"><a class="header-anchor" href="#日志"><span>日志</span></a></h4><p>在 Tomcat 的 log 目录下通常可以看到如下这些日志文件</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202409251621572.png" alt="image-20240925162136447"></p><ol><li><strong>catalina.2024-09-25.log</strong>：Catalina（Tomcat的核心组件）的主日志文件，记录了Tomcat服务器的启动、停止和运行过程中发生的各种事件和错误。</li><li><strong>host-manager.2024-09-25.log</strong>：Host Manager应用的日志文件，记录了通过Host Manager进行的操作和事件。</li><li><strong>localhost.2024-09-25.log</strong>：localhost主机的日志文件，记录了在localhost主机上部署的所有Web应用程序的事件和错误。</li><li><strong>localhost_access_log.2024-09-25.txt</strong>：这是访问日志文件，记录了所有对localhost主机的HTTP请求，包括请求的时间、IP地址、请求的资源、响应状态等信息。</li><li><strong>manager.2024-09-25.log</strong>：这是Manager应用的日志文件，记录了通过Manager进行的操作和事件。</li></ol><hr><h3 id="jetty" tabindex="-1"><a class="header-anchor" href="#jetty"><span>Jetty</span></a></h3><blockquote><p><a href="https://jetty.org/index.html" target="_blank" rel="noopener noreferrer">The Eclipse Jetty Project :: Eclipse Jetty</a></p><p><a href="https://github.com/jetty/jetty.project" target="_blank" rel="noopener noreferrer">jetty/jetty.project: Eclipse Jetty® - Web Container &amp; Clients - supports HTTP/2, HTTP/1.1, HTTP/1.0, websocket, servlets, and more (github.com)</a></p></blockquote><p>Eclipse Jetty 提供了一个高度可扩展且内存高效的 Web 服务器和 servlet 容器，支持许多协议，如 HTTP/3、2、1 和 WebSocket。此外，该项目还提供了与许多其他技术的集成，例如 OSGi、JMX、JNDI、JAAS 等。这些组件是开源的，可在 EPL2 和 Apache2 许可证下免费用于商业用途和分发。</p><p>Eclipse Jetty 是一个轻量级、高度可扩展、基于 Java 的 Web 服务器和 Servlet 引擎。Jetty 的目标是以高容量、低延迟的方式支持 Web 协议（HTTP/1、HTTP/2、HTTP/3、WebSocket 等），从而提供最高性能，同时保持易用性和与多年 Servlet 开发的兼容性。Jetty 是一种现代的完全异步 Web 服务器，作为面向组件的技术有着悠久的历史，可以轻松嵌入到应用程序中，同时仍然为 Web 应用程序部署提供可靠的传统发行版。</p><p><strong>特点</strong>：</p><ul><li>轻量级、高性能，启动速度快，占用内存少。</li><li>支持嵌入式使用，适合与其他应用或框架集成，很多微服务框架（如 Spring Boot）默认使用 Jetty 作为其嵌入式服务器。</li><li>更适合高并发、低资源占用的场景。</li><li>相比 Tomcat，Jetty 的默认配置较少，更灵活，可以根据需求定制和扩展。</li></ul><p><strong>使用场景</strong>：特别适用于需要轻量级、嵌入式服务器的场景，如微服务架构中的服务实例。</p><hr><h2 id="springmvc" tabindex="-1"><a class="header-anchor" href="#springmvc"><span>SpringMVC</span></a></h2><blockquote><p><a href="https://pdai.tech/md/spring/spring-x-framework-springmvc.html" target="_blank" rel="noopener noreferrer">Spring基础 - SpringMVC请求流程和案例 | Java 全栈知识体系</a></p><p><a href="https://github.com/wmyskxz/MoreThanJava/blob/master/java-web/springMVC/Spring-MVC%E3%80%90%E5%85%A5%E9%97%A8%E3%80%91%E5%B0%B1%E8%BF%99%E4%B8%80%E7%AF%87%EF%BC%81.md" target="_blank" rel="noopener noreferrer">MoreThanJava/java-web/springMVC/Spring-MVC【入门】就这一篇！.md at master · wmyskxz/MoreThanJava · GitHub</a></p></blockquote>`,40))])}const A=r(d,[["render",m],["__file","JavaWeb.html.vue"]]),b=JSON.parse('{"path":"/Language/Java/JavaWeb.html","title":"Java Web","lang":"zh-CN","frontmatter":{"description":"Java Web Java Web Servlet容器 Tomcat Tomcat安装 Tomcat配置 通过Docker快速搭建与使用Tomcat环境 日志 Jetty SpringMVC Servlet容器 Tomcat Apache Tomcat® - 欢迎！ --- Apache Tomcat® - Welcome! Apache Tomcat...","head":[["meta",{"property":"og:url","content":"https://233official.github.io/dailynotes/Language/Java/JavaWeb.html"}],["meta",{"property":"og:site_name","content":"DailyNotes"}],["meta",{"property":"og:title","content":"Java Web"}],["meta",{"property":"og:description","content":"Java Web Java Web Servlet容器 Tomcat Tomcat安装 Tomcat配置 通过Docker快速搭建与使用Tomcat环境 日志 Jetty SpringMVC Servlet容器 Tomcat Apache Tomcat® - 欢迎！ --- Apache Tomcat® - Welcome! Apache Tomcat..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://cdn.ayusummer233.top/DailyNotes/202306131112390.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-17T03:32:15.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-17T03:32:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Java Web\\",\\"image\\":[\\"http://cdn.ayusummer233.top/DailyNotes/202306131112390.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202306131113262.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111130092.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111136271.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111136185.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111412187.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111412947.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111427788.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111539652.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111610955.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111638279.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111639817.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409111424166.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251043734.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251043034.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251043301.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251055067.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251056853.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251057684.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251100222.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251122135.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202409251621572.png\\"],\\"dateModified\\":\\"2025-04-17T03:32:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"咸鱼型233\\",\\"url\\":\\"https://233official.github.io/dailynotes/\\"}]}"]],"date":"2022-01-04T23:14:50.000Z"},"headers":[{"level":2,"title":"Servlet容器","slug":"servlet容器","link":"#servlet容器","children":[{"level":3,"title":"Tomcat","slug":"tomcat","link":"#tomcat","children":[]},{"level":3,"title":"Jetty","slug":"jetty","link":"#jetty","children":[]}]},{"level":2,"title":"SpringMVC","slug":"springmvc","link":"#springmvc","children":[]}],"git":{"createdTime":1641338090000,"updatedTime":1744860735000,"contributors":[{"name":"233Mac","username":"233Mac","email":"ayusummer233@vip.qq.com","commits":2,"url":"https://github.com/233Mac"},{"name":"233PC","username":"233PC","email":"ayusummer233@gmail.com","commits":2,"url":"https://github.com/233PC"},{"name":"233","username":"233","email":"ayusummer233@vip.qq.com","commits":3,"url":"https://github.com/233"},{"name":"233Official","username":"233Official","email":"ayusummer233@qq.com","commits":2,"url":"https://github.com/233Official"},{"name":"咸鱼型233","username":"咸鱼型233","email":"ayusummer233@qq.com","commits":1,"url":"https://github.com/咸鱼型233"},{"name":"Ayusummer","username":"Ayusummer","email":"1369661643@qq.com","commits":2,"url":"https://github.com/Ayusummer"}]},"readingTime":{"minutes":9.75,"words":2926},"filePathRelative":"Language/Java/JavaWeb.md","localizedDate":"2022年1月4日","excerpt":"","autoDesc":true}');export{A as comp,b as data};
