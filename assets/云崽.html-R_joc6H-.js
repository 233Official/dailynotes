import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a,o as t}from"./app-CFt4SMiv.js";const n={};function l(h,i){return t(),e("div",null,i[0]||(i[0]=[a(`<h1 id="云崽" tabindex="-1"><a class="header-anchor" href="#云崽"><span>云崽</span></a></h1><ul><li><p>原版云崽</p><p>Github 仓库被夹了, Gitee 仓库如下</p><p><a href="https://gitee.com/Le-niao/Yunzai-Bot/tree/main/" target="_blank" rel="noopener noreferrer">Yunzai-Bot: 原神QQ群机器人，通过米游社接口，查询原神游戏信息，生成图片返回 - Gitee.com</a></p><p>这个仓库似乎 3 个月没更新过了, 发现最后一次提交的评论被当做 issue 区用了, 在里面有提到现在云崽在喵版云崽作者的 Gitee 中更新, 链接如下</p><p><a href="https://gitee.com/yoimiya-kokomi/Yunzai-Bot" target="_blank" rel="noopener noreferrer">Yunzai-Bot: 原神QQ群机器人，通过米游社接口，查询原神游戏信息，快速生成图片返回 (gitee.com)</a></p></li><li><p>喵版云崽</p><p><a href="https://github.com/yoimiya-kokomi/Miao-Yunzai" target="_blank" rel="noopener noreferrer">yoimiya-kokomi/Miao-Yunzai: 喵版Yunzai-V3 (github.com)</a></p></li></ul><hr><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>这里选择了喵版云崽进行安装, 参阅仓库 README, 使用 VSCode 连接远程服务器并选择一个合适的目录</p><blockquote><p>当前环境: <code>腾讯云</code>, <code>ubuntu 20.04 LTS</code>, <code>node v16.16.0</code></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 拉取仓库(使用ssh而非https是因为后者在国内会特别慢)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --depth=1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git@github.com:yoimiya-kokomi/Miao-Yunzai.git</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用 VSCode 打开 Miao-Yunzai 目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">code</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Miao-Yunzai</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 拉取 miao-plugin 到 plugin 目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --depth=1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git@github.com:yoimiya-kokomi/miao-plugin.git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./plugins/miao-plugin/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pnpm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -P</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> app</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首次启动会提示输入账户并终止程序, 需要在 <code>config/config/qq.yaml</code> 配置账密与登录设备类型</p><p>配置完成后再次 <code>node app</code></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305071321003.png" alt="image-20230507132136929"></p><p>看样子还需要安装 redis 并启动</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完后重新 <code>node app</code>, 然后会出现二维码, 使用登录该 QQ 的手机扫码后显示登陆失败 <code>当前环境存在风险, 为保障你的账号安全, 暂时无法登录</code>, 联想到类似的情况决定在本地先跑下试试</p><blockquote><p>本地 windows 倒是直接 node app 后没有退出程序, 会有引导输入账密与设备类型, 然后就卡 node 版本了</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305071403826.png" alt="image-20230507140352800"></p><p>似乎是因为 node 版本过高了, 需要切下 node 16, 参阅 <a href="https://ayusummer.github.io/DailyNotes/%E5%89%8D%E7%AB%AF/Nodejs.html#nvm" target="_blank" rel="noopener noreferrer">Nodejs | DailyNotes (ayusummer.github.io)</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nvm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> use</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16.16.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pnpm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -P</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后发现切了 node16 之后先前在 ubuntu 上遇到的 redis 未启动的问题又回来了</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305071456327.png" alt="image-20230507145649276"></p><p>到 <a href="https://github.com/tporadowski/redis/releases" target="_blank" rel="noopener noreferrer">Releases · tporadowski/redis --- 发布 · tporadowski/redis (github.com)</a> 下载 <code>msi</code> 文件进行安装即可</p><p>进入 redis 安装目录, 以管理员方式运行 <code>redis-server.exe</code> 即可</p><p>重新 <code>node app</code> 会来到滑块验证这一步, 打开 F12 浏览器开发者模式并切换到 <code>网络</code> 窗格, 两次滑块后取最后一条请求的响应</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305071513478.png" alt="image-20230507151350434"></p><p>其中的 ticket 字段即为目标字符串</p><p>然后就寄了)</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305071514793.png" alt="image-20230507151424779"></p><p>删 <code>device.json</code>, 用安卓手表协议扫码登录都不行, 寄</p><hr><p>PS, 后来找到了解决方案:<a href="https://www.wolai.com/oA43vuW71aBnv7UsEysn4T" target="_blank" rel="noopener noreferrer">Salipet云崽问题合集 (wolai.com)</a></p><p>云崽根目录开一个命令框使用npm run login更换Mac OS协议，用账号密码登录然后选择扫码验证令牌即可</p><hr><p>后续回到服务器上重新进行了尝试, 更换 mac os 协议登录继续报错 45, 继续参阅 <a href="https://www.wolai.com/oA43vuW71aBnv7UsEysn4T" target="_blank" rel="noopener noreferrer">Salipet云崽问题合集 (wolai.com)</a>, 使用</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://gitee.com/haanxuan/version/raw/master/version.sh)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>并扫码验证成功完成了登录</p><hr></blockquote><p>卡在 QQ 登录上了, 暂且搁置, 部署云崽本来是为了崩铁的相关功能来的, 目前看来似乎一时半会解决不了登录的问题, 还是接着考虑手动迁移功能到 Hoshino 或者 nonebot 上吧</p><blockquote><p>ps: 抄了个角色配装攻略到 hoshino 后找到了 icqq 登录的解决方案, 因此后面不再做迁移而是在原版上继续改了</p></blockquote><hr><h2 id="插件" tabindex="-1"><a class="header-anchor" href="#插件"><span>插件</span></a></h2><p><a href="https://github.com/yhArcadia/Yunzai-Bot-plugins-index" target="_blank" rel="noopener noreferrer">yhArcadia/Yunzai-Bot-plugins-index: Yunzai-Bot云崽QQ机器人插件索引 (github.com)</a></p><hr><h3 id="hewang1an-starrail-plugin" tabindex="-1"><a class="header-anchor" href="#hewang1an-starrail-plugin"><span>hewang1an/StarRail-plugin</span></a></h3><blockquote><p><a href="https://github.com/hewang1an/StarRail-plugin" target="_blank" rel="noopener noreferrer">hewang1an/StarRail-plugin: 星穹铁道插件 (github.com)</a></p></blockquote><hr><h4 id="安装-1" tabindex="-1"><a class="header-anchor" href="#安装-1"><span>安装</span></a></h4><p>命令行 cd 到喵崽根目录</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --depth=1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git@github.com:hewang1an/StarRail-plugin.git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./plugins/StarRail-plugin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr>`,28)]))}const o=s(n,[["render",l],["__file","云崽.html.vue"]]),d=JSON.parse('{"path":"/%E5%A8%B1%E4%B9%90/Bot/%E4%BA%91%E5%B4%BD.html","title":"云崽","lang":"zh-CN","frontmatter":{"description":"云崽 原版云崽 Github 仓库被夹了, Gitee 仓库如下 Yunzai-Bot: 原神QQ群机器人，通过米游社接口，查询原神游戏信息，生成图片返回 - Gitee.com 这个仓库似乎 3 个月没更新过了, 发现最后一次提交的评论被当做 issue 区用了, 在里面有提到现在云崽在喵版云崽作者的 Gitee 中更新, 链接如下 Yunzai-B...","head":[["meta",{"property":"og:url","content":"https://233official.github.io/dailynotes/%E5%A8%B1%E4%B9%90/Bot/%E4%BA%91%E5%B4%BD.html"}],["meta",{"property":"og:site_name","content":"DailyNotes"}],["meta",{"property":"og:title","content":"云崽"}],["meta",{"property":"og:description","content":"云崽 原版云崽 Github 仓库被夹了, Gitee 仓库如下 Yunzai-Bot: 原神QQ群机器人，通过米游社接口，查询原神游戏信息，生成图片返回 - Gitee.com 这个仓库似乎 3 个月没更新过了, 发现最后一次提交的评论被当做 issue 区用了, 在里面有提到现在云崽在喵版云崽作者的 Gitee 中更新, 链接如下 Yunzai-B..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://cdn.ayusummer233.top/DailyNotes/202305071321003.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-17T03:32:15.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-17T03:32:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"云崽\\",\\"image\\":[\\"http://cdn.ayusummer233.top/DailyNotes/202305071321003.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202305071403826.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202305071456327.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202305071513478.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202305071514793.png\\"],\\"dateModified\\":\\"2025-04-17T03:32:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"咸鱼型233\\",\\"url\\":\\"https://233official.github.io/dailynotes/\\"}]}"]],"date":"2023-05-07T08:03:52.000Z"},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"插件","slug":"插件","link":"#插件","children":[{"level":3,"title":"hewang1an/StarRail-plugin","slug":"hewang1an-starrail-plugin","link":"#hewang1an-starrail-plugin","children":[]}]}],"git":{"createdTime":1683446632000,"updatedTime":1744860735000,"contributors":[{"name":"233Mac","username":"233Mac","email":"ayusummer233@vip.qq.com","commits":2,"url":"https://github.com/233Mac"},{"name":"Ayusummer","username":"Ayusummer","email":"ayusummer233@gmail.com","commits":1,"url":"https://github.com/Ayusummer"},{"name":"咸鱼型233","username":"咸鱼型233","email":"ayusummer233@qq.com","commits":3,"url":"https://github.com/咸鱼型233"}]},"readingTime":{"minutes":3.22,"words":965},"filePathRelative":"娱乐/Bot/云崽.md","localizedDate":"2023年5月7日","excerpt":"","autoDesc":true}');export{o as comp,d as data};
