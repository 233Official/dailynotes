import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a,o as t}from"./app-DX9gUdjC.js";const n={};function l(r,i){return t(),e("div",null,i[0]||(i[0]=[a(`<h1 id="vectr" tabindex="-1"><a class="header-anchor" href="#vectr"><span>Vectr</span></a></h1><blockquote><p><a href="https://vectr.io/" target="_blank" rel="noopener noreferrer">VECTR | Collaborate. Quantify. Improve. --- 向量|合作。量化。提升。</a></p><p><a href="https://github.com/SecurityRiskAdvisors/VECTR" target="_blank" rel="noopener noreferrer">SecurityRiskAdvisors/VECTR: VECTR is a tool that facilitates tracking of your red and blue team testing activities to measure detection and prevention capabilities across different attack scenarios --- SecurityRiskAdvisors/VECTR：VECTR 是一种工具，可帮助跟踪红队和蓝队测试活动，以衡量不同攻击场景的检测和预防能力 (github.com)</a></p></blockquote><p>紫队工具, 可以帮助跟踪红队和蓝队测试活动以衡量不同攻击场景的检测和预防能力</p><hr><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><blockquote><p><a href="https://docs.vectr.io/Installation/" target="_blank" rel="noopener noreferrer">Getting Started - VECTR Documentation --- 入门 - VECTR 文档</a></p></blockquote><hr><h3 id="硬件要求" tabindex="-1"><a class="header-anchor" href="#硬件要求"><span>硬件要求</span></a></h3><p>官方推荐使用 ubuntu LTS 版本(18.04 - 22.04) 安装</p><ul><li>能够通过 Internet 访问 Github 和 DockerHub</li><li><code>&gt;= 4C8G</code></li><li>100 +GB SSD</li></ul><hr><h3 id="安装-docker" tabindex="-1"><a class="header-anchor" href="#安装-docker"><span>安装 Docker</span></a></h3><blockquote><p><a href="https://ayusummer.github.io/DailyNotes/%E9%80%9A%E8%AF%86/Docker/Docker.html#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer">Docker | DailyNotes (ayusummer.github.io)</a></p></blockquote><p>可参阅 <a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">Install Docker Engine on Ubuntu | Docker Docs</a> 安装 Docker</p><hr><h3 id="确定安装路径" tabindex="-1"><a class="header-anchor" href="#确定安装路径"><span>确定安装路径</span></a></h3><p>官方推荐将 Vectr 安装在 <code>/opt/vectr</code> 中</p><blockquote><p><code>/opt</code>: 可选软件包的安装位置。某些第三方软件可能安装在此处。</p></blockquote><hr><h3 id="下载-vector-runtime" tabindex="-1"><a class="header-anchor" href="#下载-vector-runtime"><span>下载 Vector Runtime</span></a></h3><p>在 <code>/opt/vectr</code> 目录下运行如下命令</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://ghproxy.com/https://github.com/SecurityRiskAdvisors/VECTR/releases/download/ce-8.9.1/sra-vectr-runtime-8.9.1-ce.zip</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">unzip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sra-vectr-runtime-8.9.1-ce.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309201539716.png" alt="image-20230920153844593"></p><hr><h3 id="配置-env-文件" tabindex="-1"><a class="header-anchor" href="#配置-env-文件"><span>配置 .env 文件</span></a></h3><p>编辑 <code>/opt/vectr</code> 目录下的 <code>.env</code> 文件, 写入并编辑如下配置:</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># .env file</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># VECTR URL, 如果尝试通过 IP 访问, 也会被重定向为此 hostname; 需要配置 DNS 解析俩支持此项配置</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">VECTR_HOSTNAME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">sravectr.internal</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Tomcat 实例监听 HTTPS 的端口(VECTR不支持HTTP访问)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">VECTR_PORT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">8081</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># defaults to warn, debug useful for development</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">VECTR_CONTAINER_LOG_LEVEL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;DEBUG&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">MONGO_INITDB_ROOT_USERNAME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">admin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># PLEASE change this and store it in a safe place.  Encrypted data like passwords</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># to integrate with external systems (like TAXII) use this key</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 用于与外部系统(如 TAXII) 集成的密码登加密数据会使用此密钥</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">VECTR_DATA_KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">CHANGEMENOW</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ALSO change and store in a safe place</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 默认的 MongoDB 登录密码</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">MONGO_INITDB_ROOT_PASSWORD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">CHANGEMENOW</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># JWT signing (JWS) and encryption (JWE) keys</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Do not use the same value for both signing and encryption!</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># JWT Signing 和 JWT Encryption Key, 不建议使用相同的值, 至少 16 个可打印的 Unicode 字符</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">JWS_KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">CHANGEME</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">JWE_KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">CHANGEMENOW</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>VSCode 左侧目录树默认不显示这些<code>.</code>开头的隐藏文件, 可以使用 <code>code .env</code> 打开, 或者使用 <code>打开文件</code> 找到并打开此文件</p></blockquote><hr><h3 id="启动-docker-containers" tabindex="-1"><a class="header-anchor" href="#启动-docker-containers"><span>启动 Docker Containers</span></a></h3><p>在 <code>/opt/vectr</code> 目录下运行</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启动并后台执行容器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compose</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309201612011.png" alt="image-20230920161208935"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309201612218.png" alt="image-20230920161221160"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309201614534.png" alt="image-20230920161430439"></p><hr><h3 id="配置-hosts" tabindex="-1"><a class="header-anchor" href="#配置-hosts"><span>配置 hosts</span></a></h3><p>编辑 <code>/etc/hosts</code>, 加一行解析, 其中 <code>sravectr.internal</code> 就是先前配置的 <code>.env</code> 中的 <code>VECTR_HOSTNAME</code></p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">127.0.0.1       sravectr.internal</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>保存后,系统会立即开始使用新的映射关系, 可以尝试 ping 下看看</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sravectr.internal</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309201611091.png" alt="image-20230920161114620"></p><p>如果没生效, 可以尝试清除 DNS 缓存:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemd-resolve</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --flush-caches</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者重启试试</p><hr><p>要在其他主机上访问该主机上的 Vectr 服务请将该主机 ip 和 <code>sravectr.internal</code> 写到 hosts 里, Windwos 的 Hosts 在 <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code></p><hr><h3 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h3><p>访问宿主机的 8081 端口的HTTPS 服务</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309201618274.png" alt="image-20230920161834164"></p><p>使用默认凭据登入:</p><ul><li><code>User</code>: <code>admin</code></li><li><code>Password</code>: <code>11_ThisIsTheFirstPassword_11</code></li></ul><p>登入后可以在 Profile 页修改密码:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309201703333.png" alt="image-20230920170340643"></p>`,55)]))}const d=s(n,[["render",l],["__file","Vectr.html.vue"]]),o=JSON.parse('{"path":"/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%AB%AF%E7%82%B9%E5%AE%89%E5%85%A8/AtomicRedTeam/Vectr.html","title":"Vectr","lang":"zh-CN","frontmatter":{"description":"Vectr VECTR | Collaborate. Quantify. Improve. --- 向量|合作。量化。提升。 SecurityRiskAdvisors/VECTR: VECTR is a tool that facilitates tracking of your red and blue team testing activities...","head":[["meta",{"property":"og:url","content":"https://233official.github.io/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%AB%AF%E7%82%B9%E5%AE%89%E5%85%A8/AtomicRedTeam/Vectr.html"}],["meta",{"property":"og:site_name","content":"DailyNotes"}],["meta",{"property":"og:title","content":"Vectr"}],["meta",{"property":"og:description","content":"Vectr VECTR | Collaborate. Quantify. Improve. --- 向量|合作。量化。提升。 SecurityRiskAdvisors/VECTR: VECTR is a tool that facilitates tracking of your red and blue team testing activities..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://cdn.ayusummer233.top/DailyNotes/202309201539716.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-17T03:32:15.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-17T03:32:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Vectr\\",\\"image\\":[\\"http://cdn.ayusummer233.top/DailyNotes/202309201539716.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202309201612011.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202309201612218.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202309201614534.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202309201611091.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202309201618274.png\\",\\"http://cdn.ayusummer233.top/DailyNotes/202309201703333.png\\"],\\"dateModified\\":\\"2025-04-17T03:32:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"咸鱼型233\\",\\"url\\":\\"https://233official.github.io/dailynotes/\\"}]}"]],"date":"2023-09-20T10:49:49.000Z"},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[{"level":3,"title":"硬件要求","slug":"硬件要求","link":"#硬件要求","children":[]},{"level":3,"title":"安装 Docker","slug":"安装-docker","link":"#安装-docker","children":[]},{"level":3,"title":"确定安装路径","slug":"确定安装路径","link":"#确定安装路径","children":[]},{"level":3,"title":"下载 Vector Runtime","slug":"下载-vector-runtime","link":"#下载-vector-runtime","children":[]},{"level":3,"title":"配置 .env 文件","slug":"配置-env-文件","link":"#配置-env-文件","children":[]},{"level":3,"title":"启动 Docker Containers","slug":"启动-docker-containers","link":"#启动-docker-containers","children":[]},{"level":3,"title":"配置 hosts","slug":"配置-hosts","link":"#配置-hosts","children":[]},{"level":3,"title":"使用","slug":"使用","link":"#使用","children":[]}]}],"git":{"createdTime":1695206989000,"updatedTime":1744860735000,"contributors":[{"name":"233Mac","username":"233Mac","email":"ayusummer233@vip.qq.com","commits":2,"url":"https://github.com/233Mac"},{"name":"233Official","username":"233Official","email":"ayusummr233@gmail.com","commits":1,"url":"https://github.com/233Official"}]},"readingTime":{"minutes":2.45,"words":735},"filePathRelative":"网络安全/端点安全/AtomicRedTeam/Vectr.md","localizedDate":"2023年9月20日","excerpt":"","autoDesc":true}');export{d as comp,o as data};
